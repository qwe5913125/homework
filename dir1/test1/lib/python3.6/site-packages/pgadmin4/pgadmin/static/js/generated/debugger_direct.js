define(["pgadmin.browser.constants","pgadmin.browser.endpoints","pgadmin.browser.messages","pgadmin.browser.utils","pgadmin.user_management.current_user","translations"],((e,t,r,n,a,i)=>(()=>{"use strict";var o,s={64532:(e,t,r)=>{r(69070),Object.defineProperty(t,"__esModule",{value:!0}),t.pgBrowser=void 0,r(32564),r(89554);var n=l(r(19755)),a=l(r(81311)),i=l(r(55112)),o=l(r(1950)),s=r(44092);function l(e){return e&&e.__esModule?e:{default:e}}var u=i.default.Browser=i.default.Browser||{};t.pgBrowser=u;a.default.extend(u,{inactivity_timeout_at:null,logging_activity:!1,inactivity_timeout_daemon_running:!1,is_pgadmin_timedout:function(){return!o.default.pgAdmin},is_inactivity_timeout:function(){return o.default.pgAdmin.Browser.inactivity_timeout_at<this.get_epoch_now()},get_epoch_now:function(){return(0,s.getEpoch)()},log_activity:function(){var e=this;this.logging_activity||(this.logging_activity=!0,this.inactivity_timeout_at=this.get_epoch_now()+i.default.user_inactivity_timeout,setTimeout((function(){e.logging_activity=!1}),1e3))},register_to_activity_listener:function(e,t){var r=["mousemove","mousedown","keydown"],n=this;r.forEach((function(a){e.addEventListener(a,(function a(){n.is_pgadmin_timedout()?(r.forEach((function(t){e.removeEventListener(t,a,!0)})),t()):o.default.pgAdmin.Browser.log_activity()}),!0)}))},override_activity_event_decorator:function(e){return function(){return i.default.override_user_inactivity_timeout&&o.default.pgAdmin.Browser.log_activity(),e.apply(this,arguments)}},logout_inactivity_user:function(){a.default.isUndefined(u.utils)||a.default.isUndefined(u.utils.logout_url)||(window.location.href=u.utils.logout_url)},start_inactivity_timeout_daemon:function(){var e=this;if(i.default.user_inactivity_timeout>0&&!e.inactivity_timeout_daemon_running)var t=setInterval((function(){e.inactivity_timeout_daemon_running=!0,e.is_inactivity_timeout()&&(clearInterval(t),e.inactivity_timeout_daemon_running=!1,(0,n.default)(window).off("beforeunload"),e.logout_inactivity_user())}),1e3)}})},37294:(e,t,r)=>{function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r(66992),r(41539),r(78783),r(4129),r(33948),r(69070),r(38880),r(82526),r(41817),r(32165),r(24812),r(32564),r(69826);var a=g(r(81311)),i=g(r(55112)),o=g(r(19755)),s=g(r(42441)),l=p(r(44092)),u=g(r(89087)),d=p(r(72945)),c=g(r(1950));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}function g(e){return e&&e.__esModule?e:{default:e}}var _=i.default.Browser=i.default.Browser||{};_.keyboardNavigation=_.keyboardNavigation||{},a.default.extend(_.keyboardNavigation,{init:function(){s.default.reset(),_.preferences_cache.length>0&&(this.keyboardShortcut={file_shortcut:l.parseShortcutValue(_.get_preference("browser","main_menu_file").value),object_shortcut:l.parseShortcutValue(_.get_preference("browser","main_menu_object").value),tools_shortcut:l.parseShortcutValue(_.get_preference("browser","main_menu_tools").value),help_shortcut:l.parseShortcutValue(_.get_preference("browser","main_menu_help").value),left_tree_shortcut:l.parseShortcutValue(_.get_preference("browser","browser_tree").value),tabbed_panel_backward:l.parseShortcutValue(_.get_preference("browser","tabbed_panel_backward").value),tabbed_panel_forward:l.parseShortcutValue(_.get_preference("browser","tabbed_panel_forward").value),sub_menu_query_tool:l.parseShortcutValue(_.get_preference("browser","sub_menu_query_tool").value),sub_menu_view_data:l.parseShortcutValue(_.get_preference("browser","sub_menu_view_data").value),sub_menu_search_objects:l.parseShortcutValue(_.get_preference("browser","sub_menu_search_objects").value),sub_menu_properties:l.parseShortcutValue(_.get_preference("browser","sub_menu_properties").value),sub_menu_create:l.parseShortcutValue(_.get_preference("browser","sub_menu_create").value),sub_menu_delete:l.parseShortcutValue(_.get_preference("browser","sub_menu_delete").value),sub_menu_refresh:l.parseShortcutValue(_.get_preference("browser","sub_menu_refresh").value),context_menu:l.parseShortcutValue(_.get_preference("browser","context_menu").value),direct_debugging:l.parseShortcutValue(_.get_preference("browser","direct_debugging").value),drop_multiple_objects:l.parseShortcutValue(_.get_preference("browser","grid_menu_drop_multiple").value),drop_cascade_multiple_objects:l.parseShortcutValue(_.get_preference("browser","grid_menu_drop_cascade_multiple").value),add_grid_row:l.parseShortcutValue(_.get_preference("browser","add_grid_row").value),open_quick_search:l.parseShortcutValue(_.get_preference("browser","open_quick_search").value)},this.shortcutMethods={bindMainMenu:{shortcuts:[this.keyboardShortcut.file_shortcut,this.keyboardShortcut.object_shortcut,this.keyboardShortcut.tools_shortcut,this.keyboardShortcut.help_shortcut]},bindRightPanel:{shortcuts:[this.keyboardShortcut.tabbed_panel_backward,this.keyboardShortcut.tabbed_panel_forward]},bindLeftTree:{shortcuts:this.keyboardShortcut.left_tree_shortcut},bindSubMenuQueryTool:{shortcuts:this.keyboardShortcut.sub_menu_query_tool},bindSubMenuViewData:{shortcuts:this.keyboardShortcut.sub_menu_view_data},bindSubMenuSearchObjects:{shortcuts:this.keyboardShortcut.sub_menu_search_objects},bindSubMenuProperties:{shortcuts:this.keyboardShortcut.sub_menu_properties},bindSubMenuCreate:{shortcuts:this.keyboardShortcut.sub_menu_create},bindSubMenuDelete:{shortcuts:this.keyboardShortcut.sub_menu_delete},bindSubMenuRefresh:{shortcuts:this.keyboardShortcut.sub_menu_refresh,bindElem:"#tree"},bindContextMenu:{shortcuts:this.keyboardShortcut.context_menu},bindDirectDebugging:{shortcuts:this.keyboardShortcut.direct_debugging},bindDropMultipleObjects:{shortcuts:this.keyboardShortcut.drop_multiple_objects},bindDropCascadeMultipleObjects:{shortcuts:this.keyboardShortcut.drop_cascade_multiple_objects},bindAddGridRow:{shortcuts:this.keyboardShortcut.add_grid_row},bindOpenQuickSearch:{shortcuts:this.keyboardShortcut.open_quick_search}},this.bindShortcuts())},bindShortcuts:function(){var e=this;a.default.each(e.shortcutMethods,(function(t,r){e._bindWithMousetrap(t.shortcuts,e[r],t.bindElem)}));(0,o.default)(".pg-navbar").on("keydown",(function(t){switch(t.keyCode){case 37:e.bindMainMenuLeft(t);break;case 38:e.bindMainMenuUpDown(t,"up");break;case 39:e.bindMainMenuRight(t);break;case 40:e.bindMainMenuUpDown(t,"down")}}))},_bindWithMousetrap:function(e,t,r){var n=this;if(s.default.unbind(e),r){var a=document.querySelector(r);(0,s.default)(a).bind(e,function(){t.apply(this,arguments)}.bind(a))}else s.default.bind(e,(function(){t.apply(n,arguments)}))},unbindShortcuts:function(){a.default.each(this.mousetrapInstances,(function(e){e.instance.reset()})),this.mousetrapInstances=[]},bindMainMenu:function(e,t){var r=this.keyboardShortcut;t===r.file_shortcut&&(0,o.default)("#mnu_file a.dropdown-toggle").dropdown("toggle"),t===r.object_shortcut&&(0,o.default)("#mnu_obj a.dropdown-toggle").first().dropdown("toggle"),t===r.tools_shortcut&&(0,o.default)("#mnu_tools a.dropdown-toggle").dropdown("toggle"),t===r.help_shortcut&&(0,o.default)("#mnu_help a.dropdown-toggle").dropdown("toggle")},bindRightPanel:function(e,t){var r=0,n=i.default.Browser.docker.findPanels().length-1,o=0,s=!1,l=this.keyboardShortcut;a.default.each(i.default.Browser.docker.findPanels(),(function(e,t){e.isVisible()&&!s&&"browser"!==e._type&&(o=t,s=!0)})),t===l.tabbed_panel_backward?r=o>0?o-1:1:t===l.tabbed_panel_forward&&(r=o<n?o+1:n),i.default.Browser.docker.findPanels()[r].focus(),setTimeout((function(){document.activeElement instanceof HTMLIFrameElement&&document.activeElement.blur()}),1e3)},bindMainMenuLeft:function(e){if((0,o.default)(e.target).hasClass("nav-link")){var t=(0,o.default)(e.target).closest(".nav-item");for(d._stopEventPropagation(e),t=t.prev(".nav-item");t.hasClass("d-none");)t=t.prev(".nav-item");t.find(".dropdown-toggle").first().dropdown("toggle")}else if((0,o.default)(e.target).closest(".dropdown-menu").length>0){var r=(0,o.default)(e.target).closest("li");d._stopEventPropagation(e);var n=r.closest(".dropdown-menu");n.closest(".dropdown-submenu").length>0&&(n.removeClass("show"),n.closest(".dropdown-submenu").removeClass("dropdown-submenu-visible"),(r=n.closest(".dropdown-submenu")).find(".dropdown-item").trigger("focus"))}},bindMainMenuRight:function(e){if((0,o.default)(e.target).hasClass("nav-link")){var t=(0,o.default)(e.target).closest(".nav-item");for(d._stopEventPropagation(e),t=t.next(".nav-item");t.hasClass("d-none");)t=t.next(".nav-item");t.find(".dropdown-toggle").first().dropdown("toggle")}else if((0,o.default)(e.target).closest(".dropdown-menu").length>0){var r=(0,o.default)(e.target).closest("li");d._stopEventPropagation(e),r.hasClass("dropdown-submenu")&&(r.addClass("dropdown-submenu-visible"),r.find(".dropdown-menu").addClass("show"),r.find(".dropdown-menu .dropdown-item").first().trigger("focus"))}},bindMainMenuUpDown:function(e,t){if((0,o.default)(e.target).closest(".dropdown-menu").length>0){d._stopEventPropagation(e);var r=(0,o.default)(e.target).closest("li"),n=(0,o.default)(e.target).closest(".dropdown-menu");for(n.find(".show").removeClass("show"),n.find(".dropdown-submenu").removeClass("dropdown-submenu-visible"),"up"===t?r=r.prev():"down"===t&&(r=r.next());r.hasClass("dropdown-divider")||r.find(".dropdown-item").first().hasClass("disabled");)"up"===t?r=r.prev():"down"===t&&(r=r.next());r.find(".dropdown-item").trigger("focus")}},bindLeftTree:function(){var e=this.getTreeDetails();(0,o.default)("#tree").trigger("focus"),e.t.focus(e.i),e.t.select(e.i)},bindSubMenuQueryTool:function(){var e=this.getTreeDetails();e.d&&i.default.DataGrid.show_query_tool("",e.i)},bindSubMenuViewData:function(){var e=this.getTreeDetails();e.d&&i.default.DataGrid.show_data_grid({mnuid:1},e.i)},bindSubMenuSearchObjects:function(){var e=this.getTreeDetails();e.d&&i.default.SearchObjects.show_search_objects("",e.i)},bindSubMenuProperties:function(){var e=this.getTreeDetails();e.d&&!0!==i.default.Browser.Nodes[e.t.itemData(e.i)._type].collection_node&&i.default.Browser.Node.callbacks.show_obj_properties.call(i.default.Browser.Nodes[e.t.itemData(e.i)._type],{action:"edit"})},bindSubMenuCreate:function(){var e=this.getTreeDetails(),t=i.default.Browser.Nodes[e.t.itemData(e.i)._type];if(e.d){if(!0===t.collection_node){if(!t.node)return;t=i.default.Browser.Nodes[t.node]}i.default.Browser.Node.callbacks.show_obj_properties.call(t,{action:"create",item:e.i})}},bindSubMenuDelete:function(){var e=this.getTreeDetails();e.d&&!0!==i.default.Browser.Nodes[e.t.itemData(e.i)._type].collection_node&&i.default.Browser.Node.callbacks.delete_obj.call(i.default.Browser.Nodes[e.t.itemData(e.i)._type])},bindSubMenuRefresh:function(e){e.preventDefault();var t=_.keyboardNavigation.getTreeDetails();i.default.Browser.Node.callbacks.refresh.call(i.default.Browser.Nodes[t.t.itemData(t.i)._type])},bindContextMenu:function(e){var t=this.getTreeDetails(),r=e.srcElement||e.target,n=(0,o.default)(r).find(".aciTreeEntry").position().left+70,a=(0,o.default)(r).find(".aciTreeEntry").position().top+70;t.t.blur(t.i),(0,o.default)("#tree").trigger("blur"),t.i.children().contextMenu({x:n,y:a})},bindDirectDebugging:function(){var e=this.getTreeDetails(),t=e.t.itemData(e.i)._type;!e.d||"function"!==t&&"procedure"!==t||i.default.Tools.Debugger.can_debug(e.d,e.i,{debug_type:"direct"})&&i.default.Tools.Debugger.get_function_information(i.default.Browser.Nodes[t])},bindDropMultipleObjects:function(){!0===this.isPropertyPanelVisible()&&(0,o.default)("button.delete_multiple").length>0&&(0,o.default)("button.delete_multiple").click()},bindDropCascadeMultipleObjects:function(){!0===this.isPropertyPanelVisible()&&(0,o.default)("button.delete_multiple_cascade").length>0&&(0,o.default)("button.delete_multiple_cascade").click()},bindAddGridRow:function(){var e=(0,o.default)(document.activeElement).closest(".object.subnode");(0,o.default)(e).length&&(0,o.default)(e).find(".add").click()},isPropertyPanelVisible:function(){var e=!1;return a.default.each(i.default.Browser.docker.findPanels(),(function(t){"properties"===t._type&&(e=t.isVisible())})),e},getTreeDetails:function(){var e=i.default.Browser.tree,t=e.selected().length>0?e.selected():e.first(),r=t&&1===t.length?e.itemData(t):void 0;return{t:e,i:t,d:r}},getDialogTabNavigator:function(e){var t=c.default.pgAdmin.Browser.get_preference("browser","dialog_tab_backward").value,r=c.default.pgAdmin.Browser.get_preference("browser","dialog_tab_forward").value;return new u.default.dialogTabNavigator(e,t,r)},bindOpenQuickSearch:function(){(0,o.default)("#search_icon").trigger("click")}}),e.exports=i.default.Browser.keyboardNavigation},59434:(e,t,r)=>{var n=r(64492);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r(66992),r(41539),r(78783),r(4129),r(33948),r(69070),r(38880),r(82526),r(41817),r(32165),Object.defineProperty(t,"__esModule",{value:!0}),t.pgBrowser=void 0,r(32564),r(68309);var i=f(r(55112)),o=f(r(28008)),s=f(r(19755)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r(55455)),u=f(r(91669));r(35816);var d=f(r(1950));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}var p=i.default.Browser=i.default.Browser||{};t.pgBrowser=p;var g=window.wcDocker;n.extend(p,{lock_layout_levels:{PREVENT_DOCKING:"docking",FULL:"full",NONE:"none"},buildDefaultLayout:function(e){var t=e.addPanel("browser",g.DOCK.LEFT),r=e.addPanel("dashboard",g.DOCK.RIGHT,t);e.addPanel("properties",g.DOCK.STACKED,r,{tabOrientation:g.TAB.TOP}),e.addPanel("sql",g.DOCK.STACKED,r),e.addPanel("statistics",g.DOCK.STACKED,r),e.addPanel("dependencies",g.DOCK.STACKED,r),e.addPanel("dependents",g.DOCK.STACKED,r)},save_current_layout:function(e,t){if(t){var r={setting:e,value:t.save()};s.default.ajax({type:"POST",url:(0,o.default)("settings.store_bulk"),data:r})}},restore_layout:function(e,t,r){if(""!=t)try{e.restore(t)}catch(t){e.clear(),r&&r(e)}else r&&r(e);var n=d.default.pgAdmin.Browser,a=setInterval((function(){n.get_preferences_for_module("browser")&&(clearInterval(a),n.reflectLocklayoutChange(e),n.onPreferencesChange("browser",(function(){n.reflectLocklayoutChange(e)})))}),500)},reflectLocklayoutChange:function(e){var t=d.default.pgAdmin.Browser,r=t.get_preferences_for_module("browser");t.lock_layout(e,r.lock_layout)},lock_layout:function(e,t){var r=this.menus.file.mnu_locklayout.menu_items;switch(t){case this.lock_layout_levels.PREVENT_DOCKING:e.lockLayout(g.LOCK_LAYOUT_LEVEL.PREVENT_DOCKING);break;case this.lock_layout_levels.FULL:e.lockLayout(g.LOCK_LAYOUT_LEVEL.FULL);break;case this.lock_layout_levels.NONE:e.lockLayout(g.LOCK_LAYOUT_LEVEL.NONE)}n.each(r,(function(e){e.name!="mnu_lock_"+t?e.change_checked(!1):e.change_checked(!0)}))},save_lock_layout:function(e){var t=d.default.pgAdmin.Browser;s.default.ajax({url:(0,o.default)("browser.lock_layout"),method:"PUT",contentType:"application/json",data:JSON.stringify({value:e})}).done((function(){t.cache_preferences("browser")})).fail((function(e,t){l.pgNotifier(t,e,(0,u.default)("Failed to save the lock layout setting."))}))},mnu_lock_docking:function(){this.lock_layout(this.docker,this.lock_layout_levels.PREVENT_DOCKING),this.save_lock_layout(this.lock_layout_levels.PREVENT_DOCKING)},mnu_lock_full:function(){this.lock_layout(this.docker,this.lock_layout_levels.FULL),this.save_lock_layout(this.lock_layout_levels.FULL)},mnu_lock_none:function(){this.lock_layout(this.docker,this.lock_layout_levels.NONE),this.save_lock_layout(this.lock_layout_levels.NONE)}})},33240:(e,t,r)=>{var n=r(64492);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r(66992),r(41539),r(78783),r(4129),r(33948),r(69070),r(38880),r(82526),r(41817),r(32165),Object.defineProperty(t,"__esModule",{value:!0}),t.pgBrowser=void 0,r(83710),r(68309),r(47941),r(32564);var i=p(r(55112)),o=p(r(28008)),s=p(r(19755)),l=f(r(55455)),u=f(r(81240)),d=p(r(1950));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function p(e){return e&&e.__esModule?e:{default:e}}var g=r(23602),_=i.default.Browser=i.default.Browser||{};t.pgBrowser=_,n.extend(_,{preferences_cache:[],prefcache_version:0,generate_preference_version:function(){return(new Date).getTime()},preference_version:function(e){if(!e)return this.prefcache_version;this.prefcache_version=e},get_preference:function(e,t){return n.findWhere(this.preferences_cache,{module:e,name:t})},get_preferences_for_module:function(e){var t={};if(n.each(n.where(this.preferences_cache,{module:e}),(function(e){t[e.name]=e.value})),Object.keys(t).length>0)return t},get_preference_for_id:function(e){return n.findWhere(this.preferences_cache,{id:e})},cache_preferences:function(e){var t=this,r={};r[i.default.csrf_token_header]=i.default.csrf_token,setTimeout((function(){s.default.ajax({url:(0,o.default)("preferences.get_all"),headers:r}).done((function(r){t.preferences_cache=r,t.preference_version(t.generate_preference_version()),_.keyboardNavigation.init(),_.tree&&(g.modifyAcitreeAnimation(t),g.modifyAlertifyAnimation(t)),_.browserTreeState.init(),e&&("string"==typeof e?s.default.event.trigger("prefchange:"+e):n.each(e,(function(e,t){s.default.event.trigger("prefchange:"+t)})))})).fail((function(e,t,r){l.pgRespErrorNotify(e,r)}))}),500)},reflectPreferences:function(e){var t=this;if("sqleditor"===e||null==e){var r=t.get_preferences_for_module("sqleditor");(0,s.default)(t.editor.getWrapperElement()).css("font-size",u.calcFontSize(r.sql_font_size)),t.editor.setOption("tabSize",r.tab_size),t.editor.setOption("lineWrapping",r.wrap_code),t.editor.setOption("autoCloseBrackets",r.insert_pair_brackets),t.editor.setOption("matchBrackets",r.brace_matching),t.editor.refresh()}},onPreferencesChange:function(e,t){(0,s.default)(d.default).on("prefchange:"+e,(function(e){t(e)}))}})},7134:(e,t,r)=>{var n=r(64492);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r(66992),r(41539),r(78783),r(4129),r(33948),r(69070),r(38880),r(82526),r(41817),r(32165),Object.defineProperty(t,"__esModule",{value:!0}),t.pgBrowser=void 0;var i=c(r(55112)),o=c(r(28008)),s=c(r(19755)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r(55455)),u=c(r(91669));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}var f=i.default.Browser=i.default.Browser||{};t.pgBrowser=f,n.extend(f,{send_signal_to_runtime:function(e){s.default.ajax({url:(0,o.default)("browser.signal_runtime"),method:"POST",contentType:"application/json",data:JSON.stringify({command:e})}).fail((function(e,t){l.pgNotifier(t,e,(0,u.default)("Failed to send signal to runtime."))}))},mnu_configure_runtime:function(){this.send_signal_to_runtime("Runtime Open Configuration")},mnu_viewlog_runtime:function(){this.send_signal_to_runtime("Runtime Open View Log")},mnu_toggle_fullscreen_runtime:function(){this.send_signal_to_runtime("Runtime Toggle Full Screen")},mnu_actual_size_runtime:function(){this.send_signal_to_runtime("Runtime Actual Size")},mnu_zoomin_runtime:function(){this.send_signal_to_runtime("Runtime Zoom In")},mnu_zoomout_runtime:function(){this.send_signal_to_runtime("Runtime Zoom Out")}})},14953:(e,t,r)=>{r(69070),Object.defineProperty(t,"__esModule",{value:!0}),t.initializeToolbar=function(e,t){l=e,a.default.each(u,(function(e){c(e)})),a.default.each(d,(function(e){c(e)})),e.on(t.EVENT.BUTTON,(function(e){if("name"in e&&e.name===(0,n.default)("Query Tool"))i.default.DataGrid.show_query_tool("",i.default.Browser.tree.selected());else if("name"in e&&e.name===(0,n.default)("View Data"))i.default.DataGrid.show_data_grid({mnuid:3},i.default.Browser.tree.selected());else if("name"in e&&e.name===(0,n.default)("Filtered Rows"))i.default.DataGrid.show_filtered_row({mnuid:4},i.default.Browser.tree.selected());else if("name"in e&&e.name===(0,n.default)("Search objects"))i.default.SearchObjects.show_search_objects("",i.default.Browser.tree.selected());else if("name"in e&&e.name===(0,n.default)("PSQL Tool")){var t=i.default.Browser.tree,r={}.item||t.selected(),a=r&&1==r.length?t.itemData(r):void 0;i.default.Browser.psql.psql_tool(a,r,!0)}}))},t.enable=function(e,t){e in s?l.buttonEnable(e,t):console.warn("Developer warning: No tool button found with label: "+e)},r(34553),r(68309);var n=o(r(91669)),a=o(r(81311)),i=o(r(55112));function o(e){return e&&e.__esModule?e:{default:e}}var s={},l=null,u=[{label:(0,n.default)("Search objects"),ariaLabel:(0,n.default)("Search objects"),btnClass:"fa fa-search",text:"",toggled:!1,toggleClass:"",parentClass:"pg-toolbar-btn btn-primary-icon",enabled:!1},{label:(0,n.default)("Filtered Rows"),ariaLabel:(0,n.default)("Filtered Rows"),btnClass:"pg-font-icon icon-row_filter",text:"",toggled:!1,toggleClass:"",parentClass:"pg-toolbar-btn btn-primary-icon",enabled:!1},{label:(0,n.default)("View Data"),ariaLabel:(0,n.default)("View Data"),btnClass:"pg-font-icon sql-icon-lg icon-view_data",text:"",toggled:!1,toggleClass:"",parentClass:"pg-toolbar-btn btn-primary-icon",enabled:!1},{label:(0,n.default)("Query Tool"),ariaLabel:(0,n.default)("Query Tool"),btnClass:"pg-font-icon icon-query_tool",text:"",toggled:!1,toggleClass:"",parentClass:"pg-toolbar-btn btn-primary-icon",enabled:!1}];i.default.enable_psql&&u.unshift({label:(0,n.default)("PSQL Tool"),ariaLabel:(0,n.default)("PSQL Tool"),btnClass:"fas fa-terminal",text:"",toggled:!1,toggleClass:"",parentClass:"pg-toolbar-btn btn-primary-icon pg-toolbar-psql",enabled:!1});var d=[];function c(e){(!(e.label in s)||a.default.findIndex(l._buttonList,{name:e.label})<0)&&(l.addButton(e.label,e.btnClass,e.text,e.label,e.toggled,e.toggleClass,e.parentClass,e.enabled,e.ariaLabel),s[e.label]=e)}},7361:(e,t,r)=>{r(69070),Object.defineProperty(t,"__esModule",{value:!0}),t.fetch_ticket=s,t.validate_kerberos_ticket=function(){if(a.default.current_auth_source!=i.default.KERBEROS)return;return setInterval((function(){l().then((function(){}),s)}),1e4)},t.fetch_ticket_lifetime=l,r(41539),r(88674),r(32564);var n=o(r(28008)),a=o(r(6537)),i=o(r(92026));function o(e){return e&&e.__esModule?e:{default:e}}function s(){return fetch((0,n.default)("kerberos.update_ticket")).then((function(e){return e.status>=200&&e.status<300?Promise.resolve(e):Promise.reject(new Error(e.statusText))}))}function l(){return fetch((0,n.default)("kerberos.validate_ticket")).then((function(e){return e.status>=200&&e.status<300?e.json():Promise.reject(new Error(e.statusText))})).then((function(e){var t=e.data.ticket_lifetime;return t>0?Promise.resolve(t):Promise.reject()}))}},68363:(e,t,r)=>{r(69070),Object.defineProperty(t,"__esModule",{value:!0}),t.getHelpUrl=function(e,t,r,n){var a=Math.floor(r/1e4),i=Math.floor(r/100)-100*a,o=r-(1e4*a+100*i),s="",l=a+"."+i;"ppas"==n&&a<10?l=a+"."+i+"."+o:"pg"==n&&a>=10&&(l=a);"/"!=(s=e.replace("$VERSION$",l)).substr(-1)&&(s+="/");return s+t},r(74916),r(15306)},20811:(e,t,r)=>{r(69070),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(69826);var n,a=(n=r(4631))&&n.__esModule?n:{default:n};r(54086),r(64020),r(20017),r(88657),r(89700),r(71707),r(3585),r(69109),r(55292),r(81699),r(32095),r(14568),r(4328),r(82801),r(14504),r(90338),r(18473),a.default.commands.focusOut=function(){event.stopPropagation(),document.activeElement.blur(),event.currentTarget.hasOwnProperty("parents")&&event.currentTarget.parents().find(".sql-code-control")&&event.currentTarget.parents().find(".sql-code-control").focus()},a.default.defineInitHook((function(e){e.addKeyMap({Tab:function(e){e.somethingSelected()?e.execCommand("indentMore"):e.getOption("indentWithTabs")?e.replaceSelection("\t","end","+input"):e.execCommand("insertSoftTab")}})})),a.default.keyMap.default.Esc="focusOut";var i=a.default;t.default=i},61329:(e,t,r)=>{r(92222);var n,a=(n=r(81311))&&n.__esModule?n:{default:n};e.exports={generate_url:function(e,t,r,n,i,o){var s="";return a.default.each(a.default.sortBy(a.default.pick(t,i),(function(e){return e.priority})),(function(e){s="".concat(s,"/").concat(encodeURI(e._id))})),s=o?"".concat(s,"/").concat(o):"".concat(s,"/"),"".concat(e).concat(n,"/").concat(r).concat(s)}}},86620:(e,t,r)=>{var n,a;r(23157),r(74916),r(15306),r(82772),n=[r(19755),r(81311)],void 0===(a=function(e,t){return function(e,r){if(t.isUndefined(r)||t.isNull(r))return!0;r.startsWith("coll-")&&(r=r.replace("coll-",""));if(t.indexOf(["server_group","server","catalog_object_column"],r)>=0)return!0;var n=e.get_preference("browser","show_node_"+r);return!n||n.value}}.apply(t,n))||(e.exports=a)},90338:(e,t,r)=>{var n,a,i,o;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e=r.nmd(e),r(94986),r(82772),r(82526),r(41817),r(41539),r(32165),r(66992),r(78783),r(33948),o=function(e){e.registerHelper("fold","sql",(function(t,r){return function(t,r,n){for(var a,i,o=r.line,s=t.getLine(o),l=s.length,u=0,d=n[u].start,c=n[u].end;l>0;){var f=s.toUpperCase().lastIndexOf(d,l),p=d,g=c;if(f<r.ch){if(++u>=n.length)return;d=n[u].start,c=n[u].end,l=s.length}else{if(i=t.getTokenAt(e.Pos(o,f+1)).type,!/^(comment|string)/.test(i)){a=f;break}l=f-1}}if(!(null==a||s.toUpperCase().lastIndexOf(p)>a)){var _,b,h=1,v=t.lineCount();e:for(var m=o+1;m<v;++m)for(var y=t.getLine(m).toUpperCase(),w=0,k=0;k<1;){var D=y.indexOf(p,w),x=y.indexOf(g,w);if(D<0&&(D=y.length),x<0&&(x=y.length),(w=Math.min(D,x))==y.length){k=1;break}if(t.getTokenAt(e.Pos(m,w+1)).type==i)if(w==D)++h;else if(!--h){_=m,b=w;break e}++w}if(null!=_&&_!=o+1)return{from:e.Pos(o,a+d.length),to:e.Pos(_,b)}}}(t,r,[{start:"BEGIN",end:"END;"},{start:"IF",end:"END IF"},{start:"LOOP",end:"END LOOP"},{start:"CASE",end:"END CASE"}])}))},"object"==s(t)&&"object"==s(e)?o(r(4631)):(a=[r(4631)],void 0===(i="function"==typeof(n=o)?n.apply(t,a):n)||(e.exports=i))},18473:(e,t,r)=>{var n;((n=r(4631))&&n.__esModule?n:{default:n}).default.defineExtension("centerOnLine",(function(e){var t=this.getScrollInfo().clientHeight,r=this.charCoords({line:e,ch:0},"local");this.scrollTo(null,(r.top+r.bottom-t)/2)}))},87789:(e,t,r)=>{r(69070),Object.defineProperty(t,"__esModule",{value:!0}),t.setPGCSRFToken=function(e,t){if(!t)throw"csrf-token meta tag has not been set";var r=a.default.sync;a.default.sync=function(n,a,i){return i.beforeSend=function(r){r.setRequestHeader(e,t)},r(n,a,i)};var o=a.default.get;a.default.get=function(r,n,a){return a.beforeSend=function(r){r.setRequestHeader(e,t)},o(r,n,a)},n.default.ajaxSetup({beforeSend:function(r){r.setRequestHeader(e,t)}}),i.default.interceptors.request.use((function(r){return r.headers[e]=t,r}),(function(e){return Promise.reject(e)}))},r(41539),r(88674);var n=o(r(19755)),a=o(r(72316)),i=o(r(9669));function o(e){return e&&e.__esModule?e:{default:e}}},89087:(e,t,r)=>{r(69826),r(24812),r(32564),r(69070);var n=o(r(19755)),a=o(r(42441)),i=r(44092);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dialogContainer=t,this.tabSwitching=!1,this.tabs=this.dialogContainer.find(".nav-tabs:visible"),this.tabs.length>0&&(this.tabs=this.tabs[0]),this.dialogTabBackward=(0,i.parseShortcutValue)(r),this.dialogTabForward=(0,i.parseShortcutValue)(n),(0,a.default)(this.dialogContainer[0]).bind(this.dialogTabBackward,this.onKeyboardEvent.bind(this)),(0,a.default)(this.dialogContainer[0]).bind(this.dialogTabForward,this.onKeyboardEvent.bind(this))}var t,r,o;return t=e,(r=[{key:"onKeyboardEvent",value:function(e,t){var r=this.dialogContainer.find(".tab-content:first > .tab-pane.active:first:visible"),n=this.isActivePaneHasChildTabs(r);this.tabSwitching||(this.tabSwitching=!0,n&&this.navigate(t,n.childTab,n.childTabPane,e)||this.navigate(t,this.tabs,r,e))}},{key:"isActivePaneHasChildTabs",value:function(e){var t=e.find(".nav-tabs:first:visible");return t.length>0?{childTab:t,childTabPane:e.find(".tab-content:first > .tab-pane.active:first:visible")}:null}},{key:"navigate",value:function(e,t,r,n){return e==this.dialogTabBackward?this.navigateBackward(t,r,n):e==this.dialogTabForward&&this.navigateForward(t,r,n)}},{key:"navigateBackward",value:function(e,t,r){var a,o,s=this,l=(0,n.default)(e).find("li").has("a.active").prev("li");return l.length>0?(l.find("a").tab("show"),(o=(a=t.prev()).find(".tab-content:first > .tab-pane.active:first:visible")).length>0?(0,i.findAndSetFocus)(o):(0,i.findAndSetFocus)(a),setTimeout((function(){s.tabSwitching=!1}),200),r.stopPropagation(),!0):(this.tabSwitching=!1,!1)}},{key:"navigateForward",value:function(e,t,r){var a,o,s=this,l=(0,n.default)(e).find("li").has("a.active").next("li");return l.length>0?(l.find("a").tab("show"),(o=(a=t.next()).find(".tab-content:first > .tab-pane.active:first:visible")).length>0?(0,i.findAndSetFocus)(o):(0,i.findAndSetFocus)(a),setTimeout((function(){s.tabSwitching=!1}),200),r.stopPropagation(),!0):(this.tabSwitching=!1,!1)}},{key:"detach",value:function(){(0,a.default)(this.dialogContainer[0]).unbind(this.dialogTabBackward),(0,a.default)(this.dialogContainer[0]).unbind(this.dialogTabForward)}}])&&s(t.prototype,r),o&&s(t,o),e}();e.exports={dialogTabNavigator:l}},91669:(e,t,r)=>{var n,a;r(69600),r(21249),r(74916),r(23123),n=[r(52536)],void 0===(a=function(e){return function(t){var r=e[t]?e[t]:t;if(1==arguments.length)return r;try{var n=arguments;return r.split("%s").map((function(e,t){return t>0?t<n.length?[n[t],e].join(""):["%s",e].join(""):e})).join("")}catch(e){return console.error(e),r}}}.apply(t,n))||(e.exports=a)},72945:(e,t,r)=>{r(69070),Object.defineProperty(t,"__esModule",{value:!0}),t.processEventDebugger=function(e,t,r,a){var i,o,s="";this.validateShortcutKeys(r.edit_grid_values,t)?(this._stopEventPropagation(t),(i=e.find('div.wcPanelTabContent:not(".wcPanelTabContentHidden")')).length&&(o=(0,n.default)(i).find("td.editable:first")).length&&o.trigger("click")):this.validateShortcutKeys(r.move_next,t)?(this._stopEventPropagation(t),s=l(a,"right")):this.validateShortcutKeys(r.move_previous,t)?(this._stopEventPropagation(t),s=l(a,"left")):this.validateShortcutKeys(r.switch_panel,t)&&(this._stopEventPropagation(t),s=l(a,"switch"));return s},t.processEventQueryTool=function(e,t,r,a){if(e.isQueryRunning())return;var i=r.which||r.keyCode,o="",s=e.preferences.execute_query,u=e.preferences.explain_query,d=e.preferences.explain_analyze_query,c=e.preferences.download_results,f=e.preferences.move_next,p=e.preferences.move_previous,g=e.preferences.switch_panel,_=e.preferences.toggle_case,b=e.preferences.commit_transaction,h=e.preferences.rollback_transaction,v=e.preferences.save_data,m=e.preferences.show_query_tool;if(this.validateShortcutKeys(s,r))this._stopEventPropagation(r),t.executeQuery(e);else if(this.validateShortcutKeys(u,r))this._stopEventPropagation(r),t.explain(e);else if(this.validateShortcutKeys(d,r))this._stopEventPropagation(r),t.explainAnalyze(e);else if(this.validateShortcutKeys(c,r))e.is_save_results_to_file_disabled||(this._stopEventPropagation(r),t.download(e));else if(this.validateShortcutKeys(_,r))this._stopEventPropagation(r),t.toggleCaseOfSelectedText(e);else if(this.validateShortcutKeys(b,r))e.is_transaction_buttons_disabled||(this._stopEventPropagation(r),t.executeCommit(e));else if(this.validateShortcutKeys(h,r))e.is_transaction_buttons_disabled||(this._stopEventPropagation(r),t.executeRollback(e));else if(this.validateShortcutKeys(v,r))this._stopEventPropagation(r),t.saveDataChanges(e);else if(this.validateShortcutKeys(m,r))this._stopEventPropagation(r),t.openQueryTool(e);else if((this.isMac()&&r.metaKey||!this.isMac()&&r.ctrlKey)&&!r.altKey&&r.shiftKey&&191===i)this._stopEventPropagation(r),t.commentBlockCode(e);else if((this.isMac()&&!this.isKeyCtrlAltShift(r)&&r.metaKey||!this.isMac()&&!this.isKeyAltShift(r)&&r.ctrlKey)&&191===i)this._stopEventPropagation(r),t.commentLineCode(e);else if((this.isMac()&&!this.isKeyCtrlAltShift(r)&&r.metaKey||!this.isMac()&&!this.isKeyAltShift(r)&&r.ctrlKey)&&190===i)this._stopEventPropagation(r),t.uncommentLineCode(e);else if((this.isMac()&&r.metaKey||!this.isMac()&&r.ctrlKey)&&!r.altKey&&r.shiftKey&&75===i)this._stopEventPropagation(r),t.formatSql(e);else if(27==i)t.focusOut(e),(0,n.default)(r.target).hasClass("dropdown-item")&&(0,n.default)(r.target).closest(".dropdown-submenu").length>0&&(0,n.default)(r.target).closest(".dropdown-submenu").find(".dropdown-menu").removeClass("show");else if(this.validateShortcutKeys(f,r))this._stopEventPropagation(r),o=l(a,"right");else if(this.validateShortcutKeys(p,r))this._stopEventPropagation(r),o=l(a,"left");else if(this.validateShortcutKeys(g,r))this._stopEventPropagation(r),o=l(a,"switch");else if(38===i||40===i){if((0,n.default)(r.target).closest(".dropdown-menu").length>0){this._stopEventPropagation(r);var y=(0,n.default)(r.target).closest("li");for((0,n.default)(r.target).closest(".dropdown-menu").find(".show").removeClass("show"),38===i?y=y.prev():40===i&&(y=y.next());y.hasClass("dropdown-divider")||y.hasClass("d-none")||y.find(".dropdown-item").first().hasClass("disabled");)38===i?y=y.prev():40===i&&(y=y.next());y.find(".dropdown-item").trigger("focus")}}else if(37===i||39===i){if((0,n.default)(r.target).closest(".dropdown-menu").length>0){this._stopEventPropagation(r);var w=(0,n.default)(r.target).closest("li");if(39===i)w.hasClass("dropdown-submenu")&&(w.find(".dropdown-menu").addClass("show"),w.find(".dropdown-menu .dropdown-item").first().trigger("focus"));else if(37===i){var k=w.closest(".dropdown-menu");k.closest(".dropdown-submenu").length>0&&(k.removeClass("show"),(w=k.closest(".dropdown-submenu")).find(".dropdown-item").trigger("focus"))}}}else{var D=this.validateMacros(e,r);!1!==D&&(this._stopEventPropagation(r),t.executeMacro(e,D))}return o},t.focusDockerPanel=l,t.validateShortcutKeys=function(e,t){if(!e)return!1;var r=t.which||t.keyCode;return e.alt==t.altKey&&e.shift==t.shiftKey&&e.control==t.ctrlKey&&e.key.key_code==r},t.validateMacros=function(e,t){var r=t.which||t.keyCode,n=e.macros.filter((function(e){return e.alt==t.altKey&&e.control==t.ctrlKey&&e.key_code==r}));if(1==n.length)return n[0].id;return!1},t._stopEventPropagation=function(e){e.cancelBubble=!0,e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()},t.isMac=function(){return-1!=window.navigator.platform.search("Mac")},t.isKeyCtrlAlt=function(e){return e.ctrlKey||e.altKey},t.isKeyAltShift=function(e){return e.altKey||e.shiftKey},t.isKeyCtrlShift=function(e){return e.ctrlKey||e.shiftKey},t.isKeyCtrlAltShift=function(e){return e.ctrlKey||e.altKey||e.shiftKey},t.isAltShiftBoth=function(e){return e.altKey&&e.shiftKey&&!e.ctrlKey},t.isCtrlShiftBoth=function(e){return e.ctrlKey&&e.shiftKey&&!e.altKey},t.isCtrlAltBoth=function(e){return e.ctrlKey&&e.altKey&&!e.shiftKey},t.shortcut_key=s,t.shortcut_title=function(e,t){var r="";if(null==t)return r;t.alt&&(r=(0,a.default)("Alt")+"+");t.shift&&(r+=(0,a.default)("Shift")+"+");t.control&&(r+=(0,a.default)("Ctrl")+"+");return r+=s(t),"".concat(e," (").concat(r,")")},t.shortcut_accesskey_title=function(e,t){return"".concat(e," (")+(0,a.default)("accesskey")+" + ".concat(s(t),")")},r(74916),r(64765),r(92222),r(69826),r(57327);var n=o(r(19755)),a=o(r(91669)),i=r(44092);function o(e){return e&&e.__esModule?e:{default:e}}function s(e){var t="";return e.key&&e.key.char&&(t=e.key.char.toUpperCase()),t}function l(e,t){if(e){if(!e._focusFrame){if(0==e._frameList.length&&0==e._frameList[0]._panelList.length)return;e._frameList[0]._panelList[e._frameList[0]._curTab].focus()}var r=e._focusFrame,n=0,a=!1;if("switch"==t){var o,s=e._frameList.length;for(o=0;o<s&&r!==e._frameList[o];o++);n=(r=e._frameList[(0,i.getMod)(o+1,s)])._curTab,a=!0}else"left"==t?n=(0,i.getMod)(r._curTab-1,r._panelList.length):"right"==t&&(n=(0,i.getMod)(r._curTab+1,r._panelList.length));var l=r._panelList[n];return l.$container.find('*[tabindex]:not([tabindex="-1"])').trigger("focus"),l.focus(a),l._type}}},23602:(e,t,r)=>{r(69826);var n=o(r(19755)),a=o(r(81311)),i=o(r(1950));function o(e){return e&&e.__esModule?e:{default:e}}e.exports={modifyAcitreeAnimation:function(e,t){var r=e.get_preference("browser","enable_acitree_animation").value;a.default.isUndefined(t)&&(t=e.tree),r?t.options({animateRoot:!0,unanimated:!1,show:a.default.extend(t.options().show,{duration:75}),hide:a.default.extend(t.options().hide,{duration:75}),view:a.default.extend(t.options().view,{duration:75})}):t.options({animateRoot:!1,unanimated:!0,show:a.default.extend(t.options().show,{duration:0}),hide:a.default.extend(t.options().hide,{duration:0}),view:a.default.extend(t.options().view,{duration:0})})},modifyAlertifyAnimation:function(e){(a.default.isUndefined(e)||a.default.isNull(e))&&(e=i.default.pgAdmin.Browser),e.get_preference("browser","enable_alertify_animation").value?((0,n.default)(document).find("body").removeClass("alertify-no-animation"),a.default.each(document.getElementsByTagName("iframe"),(function(e){(0,n.default)(e.contentDocument).find("body").removeClass("alertify-no-animation")}))):((0,n.default)(document).find("body").addClass("alertify-no-animation"),a.default.each(document.getElementsByTagName("iframe"),(function(e){(0,n.default)(e.contentDocument).find("body").addClass("alertify-no-animation")})))}}},55112:(e,t,r)=>{var n;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r(82526),r(41817),r(32165),r(66992),r(78783),r(33948),r(74916),r(4723),r(54678),r(47042),r(15306),r(23123),r(91058),r(83710),r(41539),r(39714),void 0===(n=function(){var e=window.pgAdmin=window.pgAdmin||{};function t(e,t,r){return void 0===r||0==+r?Math[e](t):(t=+t,r=+r,isNaN(t)||r%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-r:-r)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+r:r))))}return function(e,t,r){function n(t,r,n,i){n=n||"width";var o,l,u,f=(r.match(d)||[])[2],p="px"===f?1:c[f+"toPx"];if(p||/r?em/i.test(f)&&!i)t=p?t:"rem"===f?s:"fontSize"===n&&+e.parentNode||t,p=p||parseFloat(a(t,"fontSize")),u=parseFloat(r)*p;else{l=(o=t.style)[n];try{o[n]=r}catch(e){return 0}u=o[n]?parseFloat(a(t,n)):0,o[n]=undefined!==l?l:null}return u}function a(e,t){var r,o,s,l,c,f=["paddingTop","paddingBottom","borderTop","borderBottom"],p=4;if(o=e.style["pixel"+t.charAt(0).toUpperCase()+t.slice(1)],"%"===(s=((r=u?u(e)[t]:o?o+"px":"fontSize"===t?n(e,"1em","left",1)+"px":e.currentStyle[t]).match(d)||[])[2])&&i)if(/^top|bottom/.test(t)){for(l=(c=e.parentNode||e).offsetHeight;p--;)l-=parseFloat(a(c,f[p]));r=parseFloat(r)/100*l+"px"}else r=n(e,r);else("auto"===r||s&&"px"!==s)&&u?r=0:s&&"px"!==s&&!u&&(r=n(e,r)+"px");return r}var i,o=t.createElement("test"),s=t.documentElement,l=t.defaultView,u=l&&l.getComputedStyle,d=/^(-?[\d+\.\-]+)([a-z]+|%)$/i,c={},f=[1/25.4,1/2.54,1/72,1/6],p=["mm","cm","pt","pc","in","mozmm"],g=6;for(s.appendChild(o),u&&(o.style.marginTop="1%",i="1%"===u(o).marginTop);g--;)c[p[g]+"toPx"]=f[g]?f[g]*c.inToPx:n(o,"1"+p[g]);s.removeChild(o),e.toPx=n}(e,window.document),e.natural_sort=function(e,t,r){r=r||{};var n,i,o=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,s=/(^[ ]*|[ ]*$)/g,l=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,u=/^0x[0-9a-f]+$/i,d=/^0/,c=function(e){return r.insensitive&&(""+e).toLowerCase()||""+e},f=c(e).replace(s,"")||"",p=c(t).replace(s,"")||"",g=f.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),_=p.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),b=parseInt(f.match(u))||1!==g.length&&f.match(l)&&Date.parse(f),h=parseInt(p.match(u))||b&&p.match(l)&&Date.parse(p)||null,v=r.desc?-1:1;if(h){if(b<h)return-1*v;if(b>h)return 1*v}for(var m=0,y=Math.max(g.length,_.length);m<y;m++){if(n=!(g[m]||"").match(d)&&parseFloat(g[m])||g[m]||0,i=!(_[m]||"").match(d)&&parseFloat(_[m])||_[m]||0,isNaN(n)!==isNaN(i))return(isNaN(n)?1:-1)*v;if(a(n)!==a(i)&&(n+="",i+=""),n<i)return-1*v;if(n>i)return 1*v}return 0},e.numeric_comparator=function(e,t){return(e=parseInt(e))<(t=parseInt(t))?-1:e==t?0:1},Math.round10||(Math.round10=function(e,r){return t("round",e,r)}),Math.floor10||(Math.floor10=function(e,r){return t("floor",e,r)}),Math.ceil10||(Math.ceil10=function(e,r){return t("ceil",e,r)}),e}.apply(t,[]))||(e.exports=n)},75471:(e,t,r)=>{r(69070),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(e.showOnScroll){var t=n.default.fn.select2.amd.require("select2/utils"),r=function(e,t){this.$element=e,this.options=t,this._dataToConvert=t.get("data")||[]},i=null;i=null!=e.data?n.default.fn.select2.amd.require("select2/data/array"):n.default.fn.select2.amd.require("select2/data/select"),t.Extend(r,i),r.prototype.query=function(e,t){var r=[],a=this;e.page||(e.page=1);this.$element.children().each((function(){var t=(0,n.default)(this);if(t.is("option")||t.is("optgroup")){var i=a.item(t),o=a.matches(e,i);null!==o&&r.push(o)}})),t({results:r.slice(20*(e.page-1),20*e.page),pagination:{more:r.length>=20*e.page}})},e.minimumInputLength>0&&(r=t.Decorate(r,n.default.fn.select2.amd.require("select2/data/minimumInputLength"))),e.maximumInputLength>0&&(r=t.Decorate(r,n.default.fn.select2.amd.require("select2/data/maximumInputLength"))),e.maximumSelectionLength>0&&(r=t.Decorate(r,n.default.fn.select2.amd.require("select2/data/maximumSelectionLength"))),e.tags&&(r=t.Decorate(r,n.default.fn.select2.amd.require("select2/data/tags"))),null==e.tokenSeparators&&null==e.tokenizer||(r=t.Decorate(r,n.default.fn.select2.amd.require("select2/data/tokenizer"))),e.dataAdapter=r,a.default.isUndefined(e.ajax)&&(e.ajax={})}return e},r(47042),r(20454);var n=i(r(19755)),a=i(r(81311));function i(e){return e&&e.__esModule?e:{default:e}}},81240:(e,t,r)=>{var n,a;function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){l=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(l)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r(41539),r(68309),r(91038),r(78783),r(82526),r(41817),r(32165),r(66992),r(33948),r(69600),r(74916),r(15306),r(47042),r(54678),r(9653),r(79753),n=[r(19755),r(81311),r(91669),r(28008),r(55455)],void 0===(a=function(e,t,r,n,a){var o={epicRandomString:function(e){for(var t=[],r="0123456789abcdef",n=0;n<36;n++)t[n]=r.substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]=r.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("").replace(/-/g,"").substr(0,e)},getHash:function(e){for(var t=0,r=e.length,n=0;n<r;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t},calculateColumnWidth:function(t){e("body").append('<span id="pg_text" style="visibility: hidden;">'+t+"</span>");var r=e("#pg_text").width()+23;return e("#pg_text").remove(),r},capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},disable_connection_dropdown:function(t){t?(e(".conn-info-dd").prop("disabled",!0),e(".connection-data").css({pointerEvents:"none",cursor:"arrow"})):(e(".conn-info-dd").prop("disabled",!1),e(".connection-data").css({pointerEvents:"auto",cursor:"pointer"}))},previousStatus:null,fetchConnectionStatus:function(t,a,i){var s=n("sqleditor.connection_status",{trans_id:t.transId});if("visible"===document.visibilityState&&"visible"===a.data("panel-visible")&&!i.hasClass("obtaining-conn")){var l=t;e.ajax({url:s,method:"GET"}).done((function(e){if(e&&e.data){var t=e.data.status,n=e.data.message,s=!1;switch(l.update_notifications(e.data.notifies),t){case 1:t!=o.previousStatus||i.hasClass("fa-hourglass-half")||(i.removeClass().addClass("fa fa-hourglass-half"),s=!0);break;case 2:o.previousStatus==t||i.hasClass("fa-clock")||(i.removeClass().addClass("fa fa-clock"),s=!0);break;case 3:o.previousStatus==t||i.hasClass("fa-exclamation-circle")||(i.removeClass().addClass("fa fa-exclamation-circle"),s=!0);break;case 4:o.previousStatus==t||i.hasClass("fa-exclamation-triangle")||(i.removeClass().addClass("fa fa-exclamation-triangle"),s=!0);break;default:o.previousStatus==t||i.hasClass("fa-query_tool_connected")||(i.removeClass().addClass("pg-font-icon icon-connected"),s=!0)}o.previousStatus=t,s&&(a.popover("hide"),a.attr("data-content",n))}else o.previousStatus=-99,n=r("An unexpected error occurred - ensure you are logged into the application."),a.attr("data-content",n),i.hasClass("icon-disconnected")||(a.popover("hide"),i.removeClass().addClass("pg-icon-font icon-disconnected"))})).fail((function(e){o.previousStatus=-1;var t=r("Transaction status check failed.");0==e.readyState?t=r("Not connected to the server or the connection to the server has been closed."):e.responseJSON&&e.responseJSON.errormsg&&(t=e.responseJSON.errormsg),a.attr("data-content",t),i.hasClass("icon-disconnected")||(a.popover("hide"),i.removeClass().addClass("pg-font-icon icon-disconnected"))}))}},updateConnectionStatusFlag:function(t){var r=e(".connection_status");r.data("panel-visible")!=t&&r.data("panel-visible",t)},calcFontSize:function(e){if(e){e=parseFloat(Math.round(parseFloat(e+"e+2"))+"e-2");var t=Number(e);if(t>0)return t+"em"}return"1em"},addEditableIcon:function(e,r){var n={cssClass:"editable-column-header-icon",content:r?'<i class="fa fa-pencil-alt"></i>':'<i class="fa fa-lock"></i>'};t.isUndefined(e.header)||t.isUndefined(e.header.buttons)?e.header={buttons:[n]}:e.header.buttons.push(n)},isModalOpen:function(e){if(Array.isArray(e)){var t,r=i(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;try{if(a.dialog(n)&&a.dialog(n).isOpen())return!0}catch(e){console.warn(e.stack||e)}}}catch(e){r.e(e)}finally{r.f()}}return!1}};return o}.apply(t,n))||(e.exports=a)},82794:(e,t,r)=>{var n=r(64492);function a(e){var t=0,r=0,a={};do{var o=e.getData();if(o._type in this.Nodes&&this.Nodes[o._type].hasId){var s=i(o._type,r);void 0===a[s]&&(a[s]=n.extend({},o,{priority:t}),t-=1)}r+=1,e=e.hasParent()?e.parent():null}while(e);return a}function i(e,t){return"partition"===e&&t>0?"table":e}r(69070),Object.defineProperty(t,"__esModule",{value:!0}),t.getTreeNodeHierarchyFromElement=function(e,t){return a.call(e,t)},t.getTreeNodeHierarchyFromIdentifier=function(e){var t=this.treeMenu.translateTreeNodeIdFromACITree(e),r=this.treeMenu.findNode(t);return null===r?null:a.call(this,r)},t.getTreeNodeHierarchy=a},77019:(e,t,r)=>{r(79753),r(82526),r(41817),r(41539),r(32165),r(66992),r(78783),r(33948),r(91038),r(47042),r(68309),r(69070),Object.defineProperty(t,"__esModule",{value:!0}),t.browserTreeState=t.pgBrowser=void 0,r(32564),r(69600),r(69826),r(74916),r(64765),r(82772),r(23123),r(40561);var n=l(r(81311)),a=l(r(19755)),i=l(r(28008)),o=l(r(91669)),s=l(r(55112));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c=s.default.Browser=s.default.Browser||{};t.pgBrowser=c;var f=c.browserTreeState=c.browserTreeState||{};t.browserTreeState=f,n.default.extend(c.browserTreeState,{parent:"server",orig_parent:"server_group",stored_state:{},last_state:{},current_state:{},init:function(){var e=c.get_preference("browser","browser_tree_state_save_interval");n.default.isUndefined(e)||-1===e.value?n.default.isUndefined(e)||a.default.ajax({url:(0,i.default)("settings.reset_tree_state"),type:"DELETE"}).fail((function(e){var t=e.responseText;if(417==e.status||410==e.status||500==e.status)try{t=JSON.parse(e.responseText).errormsg}catch(e){console.warn(e.stack||e)}console.warn((0,o.default)('Error resetting the tree saved state."'),t)})):(setInterval(this.save_state,1e3*e.value),this.fetch_state.apply(this),c.Events.on("pgadmin:browser:tree:expand-from-previous-tree-state",this.expand_from_previous_state,this),c.Events.on("pgadmin:browser:tree:remove-from-tree-state",this.remove_from_cache,this),c.Events.on("pgadmin:browser:tree:update-tree-state",this.update_cache,this))},save_state:function(){var e=c.browserTreeState;e.last_state!=JSON.stringify(e.current_state)&&a.default.ajax({url:(0,i.default)("settings.save_tree_state"),type:"POST",contentType:"application/json",data:JSON.stringify(e.current_state)}).done((function(){e.last_state=JSON.stringify(e.current_state)})).fail((function(e){var t=e.responseText;if(417==e.status||410==e.status||500==e.status)try{t=JSON.parse(e.responseText).errormsg}catch(e){console.warn(e.stack||e)}console.warn((0,o.default)('Error saving the tree state."'),t)}))},fetch_state:function(){var e=this;a.default.ajax({url:(0,i.default)("settings.get_tree_state"),type:"GET",dataType:"json",contentType:"application/json"}).done((function(t){e.stored_state=t})).fail((function(e){var t=e.responseText;if(417==e.status||410==e.status||500==e.status)try{t=JSON.parse(e.responseText).errormsg}catch(e){console.warn(e.stack||e)}console.warn((0,o.default)("Error fetching the tree state."),t)}))},update_cache:function(e){var t,r=e&&c.tree.itemData(e),a=(r&&c.Nodes[r._type]).getTreeNodeHierarchy(e),i=c.tree.pathId(e),o=i.join(),s=[],l=-1;if(c.tree.hasParent(e)&&this.parent in a){if(t=a[this.parent]._id,c.tree.isOpen(e)){i.push(r.id),s=i.join(),t in this.current_state||(this.current_state[t]={paths:[],selected:{},conn_status:{},is_opened:{}});var u=n.default.find(this.current_state[t].paths,(function(e){return-1!==e.search(s)}));n.default.isUndefined(u)&&(n.default.isUndefined(this.current_state[t].paths)?this.current_state[t].paths=[]:l=this.current_state[t].paths.indexOf(o),-1!==l?this.current_state[t].paths[l]=s:this.current_state[t].paths.push(s))}this.update_database_status(e),this.update_current_selected_item(a)}},remove_from_cache:function(e){var t=this,r=t.stored_state||{},a=e&&c.tree.itemData(e),i=a&&c.Nodes[a._type],o=i&&i.getTreeNodeHierarchy(e);if(null!==o&&c.tree.hasParent(e)&&o.hasOwnProperty(t.parent)){var s=o&&o[t.parent]._id,l=o&&o[t.orig_parent].id;if(this.update_database_status(e),a._type!=t.parent&&"database"!=a._type){if(c.tree.isClosed(e)){var u=t.current_state[s].paths,d=void 0;if(o.hasOwnProperty("database")&&(d=o.database.id),!n.default.isUndefined(u)&&!n.default.isUndefined(u.length)){var f=0,p=void 0;n.default.each(u,(function(e){if(!n.default.isUndefined(e)){var r=e.split(",");if(-1!==r.indexOf(a.id)&&(void 0===d||void 0!==d&&-1!==r.indexOf(d))){var i=r.indexOf(a.id);r.splice(i),(p=r.join())==l?t.current_state[s].paths.splice(e,1):t.current_state[s].paths[f]=p}f++}}))}}}else s in r&&"paths"in r[s]&&(r[s].paths=t.current_state[s].paths,t.save_state())}},expand_from_previous_state:function(e){var t=this,r=t.stored_state||{},a=e&&c.tree.itemData(e),i=a&&c.Nodes[a._type],o=i&&i.getTreeNodeHierarchy(e);if(null!==o&&c.tree.hasParent(e)&&o.hasOwnProperty(t.parent)&&(a._type!=t.parent||!1!==c.tree.isOpen(e))){var s=r[o[t.parent]._id];if(!("database"==a._type&&s&&"conn_status"in s&&"is_opened"in s)||0!==s.conn_status[a.id]&&0!==s.is_opened[a.id]&&a.id in s.is_opened){if(!n.default.isUndefined(s)&&"paths"in s&&!n.default.isUndefined(s.paths.length)){var l=u(s.paths),d=void 0;o.hasOwnProperty("database")&&(d=o.database.id),n.default.each(l,(function(i){if(!n.default.isUndefined(i)){var s=i.split(",");if(-1!==s.indexOf(a.id)&&(void 0===d||void 0!==d&&-1!==s.indexOf(d))){var l=s.indexOf(a.id);if(c.tree.toggle(e),l==s.length-1){var u=r[o[t.parent]._id].paths.indexOf(i);r[o[t.parent]._id].paths.splice(u,1)}}}}))}this.select_tree_item(e)}}},update_database_status:function(e){var t=e&&c.tree.itemData(e),r=(t&&c.Nodes[t._type]).getTreeNodeHierarchy(e);if(r.hasOwnProperty("database")){var n=r.database.id,a=r&&r[this.parent]._id;a in this.current_state&&"selected"in this.current_state[a]&&(r.database.connected?this.current_state[a].conn_status[n]=1:this.current_state[a].conn_status[n]=0,"database"==t._type&&(c.tree.isOpen(e)?this.current_state[a].is_opened[n]=1:this.current_state[a].is_opened[n]=0))}},update_current_selected_item:function(e){if(this.parent in e){var t=e&&e[this.parent]._id,r=c.tree.itemData(c.tree.selected()),a=void 0;r=r?r.id:void 0,e.hasOwnProperty("database")&&(a=e.database.id),t in this.current_state&&"selected"in this.current_state[t]&&!n.default.isUndefined(r)&&(this.current_state[t].selected[e[this.parent].id]=r,n.default.isUndefined(a)||(this.current_state[t].selected[a]=r))}},select_tree_item:function(e){var t=this.stored_state||{},r=e&&c.tree.itemData(e),n=r&&c.Nodes[r._type],a=n&&n.getTreeNodeHierarchy(e),i=t[a[this.parent]._id];if(a.hasOwnProperty("database")){var o=a.database.id;i&&"selected"in i&&o in i.selected&&i.selected[o]==r.id&&c.tree.select(e)}}})},79226:(e,t,r)=>{var n=r(64492);r(82526),r(41817),r(32165),r(66992),r(78783),r(33948),r(57327),r(38880),r(49337),r(33321),Object.defineProperty(t,"__esModule",{value:!0}),t.isValidTreeNodeData=t.Tree=t.TreeNode=void 0,r(19601),r(41539),r(88674),r(32564),r(89554),r(54747),r(47941),r(74916),r(23123),r(15306),r(69826),r(69600),r(79753),r(23157),r(24812),r(82772),r(69070);var a=r(44092),i=s(r(19755)),o=s(r(55455));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),e}var _=function(){function e(t,r,n,a){f(this,e),this.id=t,this.data=r,this.setParent(a),this.children=[],this.domNode=n}return g(e,[{key:"hasParent",value:function(){return null!==this.parentNode&&void 0!==this.parentNode}},{key:"parent",value:function(){return this.parentNode}},{key:"setParent",value:function(e){this.parentNode=e,this.path=this.id,null!=e&&void 0!==e.path&&(this.path=e.path+"."+this.id)}},{key:"getData",value:function(){if(void 0!==this.data)return null===this.data?null:Object.assign({},this.data)}},{key:"getHtmlIdentifier",value:function(){return this.domNode}},{key:"reload",value:function(e){var t=this;return new Promise((function(r){t.unload(e).then((function(){e.aciTreeApi.setInode(t.domNode),e.aciTreeApi.deselect(t.domNode),setTimeout((function(){e.selectNode(t.domNode)}),0),r()}))}))}},{key:"unload",value:function(e){var t=this;return new Promise((function(r,n){t.children=[],e.aciTreeApi.unload(t.domNode,{success:function(){r(!0)},fail:function(){n()}})}))}},{key:"open",value:function(e,t){var r=this;return new Promise((function(n,a){!t||null!=r.domNode&&void 0!==r.domNode?e.aciTreeApi.isOpen(r.domNode)?n(!0):e.aciTreeApi.open(r.domNode,{success:function(){n(!0)},fail:function(){a(!0)}}):n(!0)}))}},{key:"ancestorNode",value:function(e){for(var t=this;t.hasParent();)if(e(t=t.parent()))return t;return null}},{key:"anyFamilyMember",value:function(e){return!!e(this)||null!==this.ancestorNode(e)}},{key:"anyParent",value:function(e){return null!==this.ancestorNode(e)}}]),e}();t.TreeNode=_;var b=function(){function e(){f(this,e),this.rootNode=new _(void 0,{}),this.aciTreeApi=void 0,this.draggableTypes={}}return g(e,[{key:"registerDraggableType",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;"object"==c(e)?Object.keys(e).forEach((function(r){t.registerDraggableType(r,e[r])})):null!=r&&e.replace(/ +/," ").split(" ").forEach((function(e){t.draggableTypes[e]=r}))}},{key:"getDraggable",value:function(e){return this.draggableTypes[e]?this.draggableTypes[e]:null}},{key:"prepareDraggable",value:function(e,t){var r=this.getDraggable(e._type);null!=r&&t.find(".aciTreeItem").attr("draggable",!0)[0].addEventListener("dragstart",(function(a){var o=r(e,t);if("string"==typeof o?o={text:o,cur:{from:o.length,to:o.length}}:o.cur||(o=u(u({},o),{},{cur:{from:o.text.length,to:o.text.length}})),a.dataTransfer.setData("text",JSON.stringify(o)),a.dataTransfer.dropEffect&&(a.dataTransfer.dropEffect="move"),a.dataTransfer.setDragImage){var s=(0,i.default)('\n              <div class="drag-tree-node">\n                <span>'.concat(n.escape(o.text),"</span>\n              </div>"));(0,i.default)("body .drag-tree-node").remove(),(0,i.default)("body").append(s),a.dataTransfer.setDragImage(s[0],0,0)}}))}},{key:"addNewNode",value:function(e,t,r,n){var a=this.findNode(n);return this.createOrUpdateNode(e,t,a,r)}},{key:"findNode",value:function(e){return null==e||0===e.length?this.rootNode:function(e,t){if(null===t)return e;return function e(r){if(void 0!==r.path&&void 0!==t&&!t.startsWith(r.path))return null;for(var n=0,a=r.children.length;n<a;n++){var i=e(r.children[n]);if(null!==i)return i}return r.path===t?r:null}(e)}(this.rootNode,e.join("."))}},{key:"findNodeWithToggle",value:function(e){var t=this;if(null==e||!Array.isArray(e))return Promise.reject();e=e.join(".");var r=function(t){return void 0!==t&&void 0!==e&&(e.startsWith(t+".")||e===t)};return function n(a){return new Promise((function(i,o){null!=e&&0!==e.length||i(null),void 0===a.path||r(a.path)?a.path===e?i(a):a.open(t,!0).then((function(){for(var e=0,t=a.children.length;e<t;e++){var s=a.children[e];if(r(s.path))return void i(n(s))}o(null)})).catch((function(){o(null)})):o(null)}))}(this.rootNode)}},{key:"findNodeByDomElement",value:function(e){var t=this.translateTreeNodeIdFromACITree(e);if(t&&t[0])return this.findNode(t)}},{key:"selected",value:function(){return this.aciTreeApi.selected()}},{key:"scrollTo",value:function(e){e.scrollIntoView()}},{key:"selectNode",value:function(e,t){this.aciTreeApi.select(e),t&&this.scrollTo(e[0])}},{key:"createOrUpdateNode",value:function(e,t,r,n){var a=[e];null!=r&&(a=[r.path,e]);var i=this.findNode(a);if(null!==i)return i.data=t,i.domNode=n,i;var o=new _(e,t,n,r);return r===this.rootNode&&(o.parentNode=null),null!=r&&r.children.push(o),o}},{key:"unloadNode",value:function(e,t,r,n){var a=[e],i=this.findNode(n);null!=i&&(a=[i.path,e]);var o=this.findNode(a);o&&(o.children=[])}},{key:"register",value:function(e){var t=this;e.on("acitree",function(e,t,r,n){if(t.isItem(r)&&-1!=["added","idset","beforeunload"].indexOf(n)){var a=t.getId(r),i=t.itemData(r),s=this.translateTreeNodeIdFromACITree(t.parent(r));"beforeunload"===n?this.unloadNode(a,i,r,s):("added"===n&&this.prepareDraggable(i,r),this.addNewNode(a,i,r,s)),i.errmsg&&o.default.error(i.errmsg)}}.bind(this)),this.aciTreeApi=e.aciTree("api");var r=function(e){var r=t.aciTreeApi.itemFrom(e.target);r.length&&(e.ctrlKey&&t.aciTreeApi.select(r),(0,i.default)(r).on("contextmenu:visible",(function(){(0,i.default)(r).trigger("blur"),(0,i.default)(r).off("contextmenu:visible")})))};e.off("mousedown",r).on("mousedown",r)}},{key:"translateTreeNodeIdFromACITree",value:function(e){for(var t=e,r=[];null!=t&&t.length>0&&(r.unshift(this.aciTreeApi.getId(t)),this.aciTreeApi.hasParent(t));)t=this.aciTreeApi.parent(t);return r}}]),e}();t.Tree=b;var h=a.isValidData;t.isValidTreeNodeData=h},28008:(e,t,r)=>{var n,a;r(74916),r(15306),n=[r(8012)],void 0===(a=function(e){return function(t,r){var n=e[t],a=n;return n?a=a.replace(/([<])([^:^>]*:)?([^>]+)([>])/g,(function(e,t,n,a){return a in r?r[a]:e})):n}}.apply(t,n))||(e.exports=a)},44092:(e,t,r)=>{r(69070),Object.defineProperty(t,"__esModule",{value:!0}),t.parseShortcutValue=function(e){var t="";e.alt&&(t+="alt+");e.shift&&(t+="shift+");e.control&&(t+="ctrl+");return t+=e.key.char.toLowerCase()},t.handleKeyNavigation=function(e){var t=(0,i.default)(e.currentTarget).find(".wizard-header"),r=(0,i.default)(e.currentTarget).find(".wizard-footer"),n=(0,i.default)(e.currentTarget).find(".select-row-cell:first"),a=(0,i.default)(e.currentTarget).find(".select-row-cell:last"),o=(0,i.default)(t).find("button:enabled:first"),s=(0,i.default)(t).find("button:enabled:last"),l=(0,i.default)(r).find("button:enabled:last"),u=(0,i.default)(r).find("button:enabled:first");e.shiftKey&&9===e.keyCode?o&&(0,i.default)(o).is((0,i.default)(e.target))?l&&((0,i.default)(l).focus(),e.preventDefault(),e.stopPropagation()):(0,i.default)(u).is((0,i.default)(e.target))&&((0,i.default)(n).find(".custom-control-input").is(":visible")?((0,i.default)(a).find(".custom-control-input").focus(),e.preventDefault(),e.stopPropagation()):(0,i.default)(e.currentTarget).find(".wizard-content").find(".CodeMirror-scroll").is(":visible")&&(0,i.default)(s).focus()):9===e.keyCode?l&&(0,i.default)(l).is((0,i.default)(e.target))?((0,i.default)(o).focus(),e.preventDefault(),e.stopPropagation()):"Name"==e.target.innerText?((0,i.default)(n).find(".custom-control-input").is(":visible")?(0,i.default)(n).find(".custom-control-input").focus():(0,i.default)(u).focus(),e.preventDefault(),e.stopPropagation()):"DIV"==e.target.tagName?((0,i.default)(e.currentTarget).find(".custom-control-input:first").trigger("focus"),e.preventDefault(),e.stopPropagation()):"TEXTAREA"==e.target.tagName&&(0,i.default)(u).focus():27===e.keyCode&&(0,i.default)(t).find("button.ajs-close").click()},t.findAndSetFocus=function(e){if(0==e.length)return;setTimeout((function(){var t=e.find("button.fa-plus:first");0==t.length&&(t=e.find("\n          .pgadmin-controls:first .btn:not(.toggle),\n          .pgadmin-controls:first,\n          .ajs-commands:first,\n          .CodeMirror-scroll,\n          .pgadmin-wizard").find('*[tabindex]:not([tabindex="-1"]),input:enabled')),t.length>0?t[0].focus():e[0].focus()}),200)},t.getEpoch=function(e){var t=e||new Date;return parseInt(t.getTime()/1e3)},t.getGCD=function(e){var t=function e(t,r){return 0==t?r:e(r%t,t)},r=e.length;if(r<=2)return t(e[0],e[1]);for(var n=e[0],a=1;a<r;a++)n=t(e[a],n);return n},t.getMod=function(e,t){return(e%t+t)%t},t.parseFuncParams=function(e){var t=[],r="",n="";if(e.endsWith("()"))r=e.substring(0,e.length-2);else if(e.endsWith(")")){if(!e.endsWith("()")&&e.endsWith(")")){var a=0,i=e.length;for(a=e.length-2;a>=0;){if("("==e[a]){i=a;break}if('"'==e[a])for(a--;'"'!=e[a];)a--;a--}r=e.substring(0,i),n=e.substring(i+1,e.length-1);var o=0,s="",l=["IN","OUT","INOUT","VARIADIC"];for(a=0;a<n.length;){if('"'==n[a])for(a++;'"'!=n[a];)a++;else" "==n[a]?(""==s||l.indexOf(s)>-1)&&(s=n.substring(o,a),o=a+1):","==n[a]&&(t.push([s,n.substring(o,a)]),s="",o=a+1);a++}t.push([s,n.substring(o)])}}else r=e;return{func_name:r,param_string:n,params:t}},t.quote_ident=u,t.fully_qualify=function(e,t,r){var n=a.getTreeNodeHierarchyFromIdentifier.call(e,r),i="";void 0!==n.schema?i=u(n.schema._label):void 0!==n.view?i=u(n.view._label):void 0!==n.catalog&&(i=u(n.catalog._label));void 0!==n.package&&"package"!=t._type&&(""==i?i=u(n.package._label):i+="."+u(n.package._label));return""!=i?i+"."+u(t._label):u(t._label)},t.getRandomInt=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},t.titleize=function(e){return""===e||null===e?e:e.split(" ").map((function(e){return e[0].toUpperCase()+e.substr(1).toLowerCase()})).join(" ")},t.sprintf=function(e){try{var t=arguments;return e.split("%s").map((function(e,r){return r>0?r<t.length?[t[r],e].join(""):["%s",e].join(""):e})).join("")}catch(t){return console.error(t),e}},t.CSVToArray=function(e,t,r){t=t||",",r=r||'"';var n=new RegExp("(\\"+t+"|\\r?\\n|\\r|^)"+('"'==r?'(?:"([^"]*(?:""[^"]*)*)"|':"(?:'([^']*(?:''[^']*)*)'|")+('"'==r?'([^"\\'+t+"\\r\\n]*))":"([^'\\"+t+"\\r\\n]*))"),"gi"),a=[[]],i=null;for(;i=n.exec(e);){var o,s=i[1];s.length&&s!==t&&a.push([]),o=i[2]?i[2].replace(new RegExp(r+r,"g"),r):i[3],a[a.length-1].push(o)}return a},t.hasBinariesConfiguration=function(e,t,r){var a="paths",i="pg_bin_dir",s=(0,o.default)("Please configure the PostgreSQL Binary Path in the Preferences dialog.");(t.type&&"ppas"===t.type||"ppas"===t.server_type)&&(i="ppas_bin_dir",s=(0,o.default)("Please configure the EDB Advanced Server Binary Path in the Preferences dialog."));var l=e.get_preference(a,i);if(!l)return r.alert((0,o.default)("Preferences Error"),(0,o.default)("Failed to load preference %s of module %s",i,a)),!1;if(n.default.isUndefined(l.value)||(u=l.value,d=t.version,c=!1,f=!1,p=JSON.parse(u),n.default.each(p,(function(e){d>=e.version&&d<e.next_major_version&&(n.default.isUndefined(e.binaryPath)||n.default.isNull(e.binaryPath)||""===e.binaryPath.trim()||(f=!0)),e.isDefault&&(c=!0)})),!(f|c)))return r.alert((0,o.default)("Configuration required"),s),!1;var u,d,c,f,p;return!0},t.registerDetachEvent=function(e){e.on(l.EVENT.DETACHED,(function(){(0,i.default)(this.$container[0].ownerDocument).find(".wcIFrameFloating").attr({style:"z-index: 1200"})})),e.on(l.EVENT.ORDER_CHANGED,(function(){(0,i.default)(this.$container[0].ownerDocument).find(".wcIFrameFloating").attr({style:"z-index: 1200"})})),e.on(l.EVENT.ORDER_CHANGED,(function(){var e=this.docker(this._panel).$container.offset(),t=this.$container.offset(),r=this.$container.width(),n=this.$container.height();(0,i.default)(this.$container[0].ownerDocument).find(".wcIFrameFloating").css("top",t.top-e.top),(0,i.default)(this.$container[0].ownerDocument).find(".wcIFrameFloating").css("left",t.left-e.left),(0,i.default)(this.$container[0].ownerDocument).find(".wcIFrameFloating").css("width",r),(0,i.default)(this.$container[0].ownerDocument).find(".wcIFrameFloating").find(".wcIFrameFloating").css("height",n)}))},t.isString=t.isFunction=t.isValidData=void 0,r(69826),r(32564),r(83710),r(91058),r(27852),r(82772),r(74916),r(64765),r(15306),r(69600),r(21249),r(23123),r(24603),r(39714),r(73210);var n=s(r(81311)),a=r(82794),i=s(r(19755)),o=s(r(91669));function s(e){return e&&e.__esModule?e:{default:e}}r(35816);var l=window.wcDocker;t.isValidData=function(e){return!n.default.isUndefined(e)&&!n.default.isNull(e)};t.isFunction=function(e){return n.default.isFunction(e)};function u(e){var t=!1;return isNaN(parseInt(e))||(t=!0),e.search(/[^a-z0-9_]/g)>-1&&(e=e.replace(/"/g,'""'),t=!0),t?'"'.concat(e,'"'):e}t.isString=function(e){return n.default.isString(e)}},1950:(e,t,r)=>{r(69070),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function e(t){return t.opener&&t.opener.pgAdmin?e(t.opener):t},a=function(){var e=null;try{e=window.opener&&window.opener.pgAdmin?n(window.opener):window.parent&&window.parent.pgAdmin?window.parent:window.top&&window.top.pgAdmin?window.top:window}catch(t){e=window}return e}();t.default=a},9807:(e,t,r)=>{var n=r(64492);r(69070),Object.defineProperty(t,"__esModule",{value:!0}),t.getDatabaseLabel=u,t.getPanelTitle=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=e.get_preferences_for_module("browser");null==t&&null==n&&(t=e.treeMenu.selected());if(null==n&&d(n=a.getTreeNodeHierarchyFromIdentifier.call(e,t)))return;o||(o=u(n));var c="";c=i?l.qt_default_placeholder:r||s.qt_tab_title_placeholder;var p={database:o,username:n.server.user.name,server:n.server.label,type:"query_tool"},g=f(c,p);return g},t.setQueryToolDockerTitle=function(e,t,r,a){var o="",s="";c(e,a),a||"true"==a?(s=(0,i.default)("File - ")+r,o="fa fa-file-alt"):"false"==t||0==t?(s=(0,i.default)("View/Edit Data - ")+r,o="pg-font-icon icon-view_data"):(s=(0,i.default)("Query Tool - ")+r,o="pg-font-icon icon-query_tool");e.title('<span title="'+n.escape(s)+'">'+n.escape(r)+"</span>"),e.icon(o)},t.set_renamable_option=c,t.generateTitle=f,t.refresh_db_node=function(e,t){o.default.alert().setting({title:(0,i.default)("Database moved/renamed"),label:(0,i.default)("OK"),message:(0,i.default)(e),onok:function(){l.Browser.Nodes.database.callbacks.refresh(void 0,t)}}).show()},r(68309),r(74916),r(15306),r(24603),r(39714);var a=r(82794),i=s(r(91669)),o=s(r(55455));function s(e){return e&&e.__esModule?e:{default:e}}var l=s(r(1950)).default.pgAdmin;function u(e){return e.database?e.database.label:e.server.db}function d(e){return void 0===e.server}function c(e,t){t||"true"==t?e.renamable(!1):e.renamable(!0)}function f(e,t){return"query_tool"==t.type?e=(e=(e=e.replace(new RegExp("%DATABASE%"),n.unescape(t.database))).replace(new RegExp("%USERNAME%"),n.unescape(t.username))).replace(new RegExp("%SERVER%"),n.unescape(t.server)):"datagrid"==t.type?e=(e=(e=(e=(e=e.replace(new RegExp("%DATABASE%"),n.unescape(t.database))).replace(new RegExp("%USERNAME%"),n.unescape(t.username))).replace(new RegExp("%SERVER%"),n.unescape(t.server))).replace(new RegExp("%SCHEMA%"),n.unescape(t.schema))).replace(new RegExp("%TABLE%"),n.unescape(t.table)):"debugger"==t.type?e=(e=(e=(e=e.replace(new RegExp("%FUNCTION%"),n.unescape(t.function_name))).replace(new RegExp("%ARGS%"),n.unescape(t.args))).replace(new RegExp("%SCHEMA%"),n.unescape(t.schema))).replace(new RegExp("%DATABASE%"),n.unescape(t.database)):"psql_tool"==t.type&&(e=(e=(e=e.replace(new RegExp("%DATABASE%"),n.unescape(t.database))).replace(new RegExp("%USERNAME%"),n.unescape(t.username))).replace(new RegExp("%SERVER%"),n.unescape(t.server))),n.escape(e)}},7167:(e,t,r)=>{r(69070),Object.defineProperty(t,"__esModule",{value:!0}),t.showQueryTool=function(e,t,r,a,s,l){var u=a||"",f=function(e,t){return(0,o.getPanelTitle)(e,t)}(t,s);if(void 0===t.treeMenu.findNodeByDomElement(s))return void r.alert((0,n.default)("Query Tool Error"),(0,n.default)("No object selected."));var p=i.getTreeNodeHierarchyFromIdentifier.call(t,s);if(function(e){return void 0===e.server}(p))return;var g=d(l,f,p);c(e,l,g,f,u,r)},t.generateScript=function(e,t,r){var n="".concat(e.database,"/").concat(e.user,"@").concat(e.server),i=(0,s.getRandomInt)(1,9999999),o=(0,a.default)("datagrid.panel",{trans_id:i});o+="?is_query_tool=".concat(!0)+"&sgid=".concat(e.sgid)+"&sid=".concat(e.sid)+"&server_type=".concat(e.stype)+"&did=".concat(e.did),c(t,i,o,n,"",r)},t.showERDSqlTool=function(e,t,r,n,a){var i=(0,s.getRandomInt)(1,9999999);e={server_group:{_id:e.sgid},server:{_id:e.sid,server_type:e.stype},database:{_id:e.did}};var o=d(i,r,e,t);c(n,i,o,r,"",a)},t.launchDataGrid=c,t._set_dynamic_tab=function(e,t){e.docker.findPanels("frm_datagrid").forEach((function(e){t?(0,l.default)("#"+e.$title.index()+" div:first").addClass("wcPanelTab-dynamic"):(0,l.default)("#"+e.$title.index()+" div:first").removeClass("wcPanelTab-dynamic")})),e.docker.findPanels("frm_debugger").forEach((function(e){t?(0,l.default)("#"+e.$title.index()+" div:first").addClass("wcPanelTab-dynamic"):(0,l.default)("#"+e.$title.index()+" div:first").removeClass("wcPanelTab-dynamic")}))},r(92222),r(89554),r(54747);var n=u(r(91669)),a=u(r(28008)),i=r(82794),o=r(9807),s=r(44092),l=u(r(19755));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r,n){var i=(0,a.default)("datagrid.panel",{trans_id:e});return i+="?is_query_tool=".concat(!0)+"&sgid=".concat(r.server_group._id)+"&sid=".concat(r.server._id)+"&server_type=".concat(r.server.server_type),function(e){return e.database}(r)&&(i+="&did=".concat(r.database._id)),n&&(i+="&sql_id=".concat(n)),i}function c(e,t,r,a,i,o){e.launch_grid(t,r,!0,a,i)||o.alert((0,n.default)("Query tool launch error"),(0,n.default)("Please allow pop-ups for this site to perform the desired action. If the main window of pgAdmin is closed then close this window and open a new pgAdmin session."))}},92323:(e,t,r)=>{var n,a;r(82772),r(74916),r(15306),r(91058),r(54678),r(23123),r(69826),r(32564),r(26699),r(32023),r(73210),n=[r(91669),r(28008),r(19755),r(81311),r(72316),r(55455),r(55112),r(58894),r(71158),r(1950),r(6715),r(44092),r(35816)],void 0===(a=function(e,t,r,n,a,i,o,s,l,u,d,c){var f=window.wcDocker,p=function(e){var t=e.get("type");if(-1!=t.indexOf("[]"))switch(t.replace("[]","")){case"boolean":return l.Extension.InputBooleanArrayCell;case"integer":case"smallint":case"bigint":case"serial":case"smallserial":case"bigserial":case"oid":case"cid":case"xid":case"tid":return l.Extension.InputIntegerArrayCell;case"real":case"numeric":case"double precision":case"decimal":return l.Extension.InputNumberArrayCell;default:return l.Extension.InputStringArrayCell}else switch(t){case"boolean":return l.BooleanCell.extend({formatter:l.BooleanCellFormatter});case"integer":case"smallint":case"bigint":case"serial":case"smallserial":case"bigserial":case"oid":case"cid":case"xid":case"tid":return null!=e.get("value")&&e.set({value:isNaN(parseInt(e.get("value")))?null:parseInt(e.get("value"))},{silent:!0}),l.IntegerCell;case"real":case"numeric":case"double precision":case"decimal":return null!=e.get("value")&&e.set({value:parseFloat(e.get("value"))},{silent:!0}),l.NumberCell;case"string":return l.StringCell;case"date":return l.DateCell;default:return l.Cell}},g=function(e){return-1!=e.get("type").indexOf("[]")?l.StringCell:l.BooleanCell},_=a.Model.extend({defaults:{name:void 0,type:void 0,is_null:void 0,expr:void 0,value:void 0,use_default:void 0,default_value:void 0},validate:function(){if(n.isUndefined(this.get("value"))||n.isNull(this.get("value"))||""==String(this.get("value")).replace(/^\s+|\s+$/g,"")){var t=e("Please enter a value for the parameter.");return this.errorModel.set("value",t),t}return this.errorModel.unset("value"),null}}),b=a.Collection.extend({model:_}),h=function(e){return e instanceof a.Model&&e.get("use_default")},v=function(e){if(e instanceof a.Model)return-1==e.get("type").indexOf("[]")};return function(a,o,_,m){i.debuggerInputArgsDialog||i.dialog("debuggerInputArgsDialog",(function(){return{main:function(a,o,d,c,f){this.preferences=u.default.pgAdmin.Browser.get_preferences_for_module("debugger"),this.set("title",a),this.set("debug_info",o),this.set("restart_debug",d),this.set("trans_id",f),this.set("is_edb_proc",c);var _,m,y,w,k,D,x=this.func_args_data=[];if(0==d){var S=s.tree,E=S.selected(),T=E&&1==E.length?S.itemData(E):void 0,C=T&&s.Nodes[T._type];if(!T)return;var P,N=C.getTreeNodeHierarchy.apply(C,[E]);"function"==T._type?P=t("debugger.get_arguments",{sid:N.server._id,did:N.database._id,scid:N.schema._id,func_id:N.function._id}):"procedure"==T._type?P=t("debugger.get_arguments",{sid:N.server._id,did:N.database._id,scid:N.schema._id,func_id:N.procedure._id}):"edbfunc"==T._type?P=t("debugger.get_arguments",{sid:N.server._id,did:N.database._id,scid:N.schema._id,func_id:N.edbfunc._id}):"edbproc"==T._type&&(P=t("debugger.get_arguments",{sid:N.server._id,did:N.database._id,scid:N.schema._id,func_id:N.edbproc._id}))}else P=t("debugger.get_arguments",{sid:o.server_id,did:o.database_id,scid:o.schema_id,func_id:o.function_id});r.ajax({url:P,method:"GET",async:!1}).done((function(e){if(0!=e.data.args_count)for(E=0;E<e.data.result.length;E++)x.push({arg_id:e.data.result[E].arg_id,is_null:e.data.result[E].is_null,is_expression:e.data.result[E].is_expression,use_default:e.data.result[E].use_default,value:e.data.result[E].value})})).fail((function(){i.alert(e("Debugger Error"),e("Unable to fetch the arguments from server"))}));var O,A,M,j,B,L,I=l.HeaderCell.extend({className:"width_percent_25"}),K=[],V=[{name:"name",label:e("Name"),type:"text",editable:!1,cell:"string"},{name:"type",label:e("Type"),type:"text",editable:!1,cell:"string"},{name:"is_null",label:e("Null?"),type:"boolean",cell:"boolean",align_center:!0},{name:"expr",label:e("Expression?"),type:"boolean",cellFunction:g,editable:v,align_center:!0},{name:"value",label:e("Value"),type:"text",editable:!0,cellFunction:p,headerCell:I,align_center:!0},{name:"use_default",label:e("Use Default?"),type:"boolean",cell:"boolean",editable:h},{name:"default_value",label:e("Default"),type:"text",editable:!1,cell:"string"}],q=[],R=[],F=this.input_arg_id=[];if(null!=o.proargmodes){var U=o.proargmodes.split(",");for(O=0;O<U.length;O++)("i"==U[O]||"b"==U[O]||c&&"o"==U[O])&&F.push(O)}else{var G=o.proargtypenames.split(",");for(O=0;O<G.length;O++)F.push(O)}if(m=o.proargtypenames.split(","),null!=o.proargmodes&&(y=o.proargmodes.split(",")),o.pronargdefaults&&(w=o.pronargdefaults,k=o.proargdefaults.split(","),D=w),null!=o.proargnames){for(L=(_=o.proargnames.split(",")).length-1;L>=0;L--)null!=o.proargmodes?y&&("i"==y[L]||"b"==y[L]||c&&"o"==y[L])&&(D?(D-=1,K[L]=k[D]):K[L]="<no default>"):D?(D-=1,K[L]=k[D]):K[L]="<no default>";if(0!=m.length)for(E=0;E<m.length;E++)null!=o.proargmodes?y&&("i"==y[E]||"b"==y[E]||c&&"o"==y[E])&&(B=!1,"<no default>"!=K[E]&&(B=!0),q.push({name:_[E],type:m[E],use_default:B,default_value:K[E]})):(B=!1,"<no default>"!=K[E]&&(B=!0),q.push({name:_[E],type:m[E],use_default:B,default_value:K[E]}));if(0!=x.length)for(E=0;E<x.length;E++)j=x[E].arg_id,null!=o.proargmodes&&y&&"o"==y[j]&&!c||(M=[],-1!=m[j].indexOf("[]")?(A=x[E].value.split(","),n.each(A,(function(e){M.push({value:e})}))):M=x[E].value,R.push({name:_[j],type:m[j],is_null:!!x[E].is_null,expr:!!x[E].is_expression,value:M,use_default:!!x[E].use_default,default_value:K[j]}))}else{var $=[];for(E=0;E<m.length;E++)$[E]="dbgparam"+(E+1);if(o.pronargdefaults){for(L=$.length-1;L>=0;L--)D?(D-=1,K[L]=k[D]):K[L]="<No default value>";for(E=0;E<m.length;E++)(null==o.proargmodes||y&&("i"==y[E]||"b"==y[E]||c&&"o"==y[E]))&&(B=!1,"<No default value>"!=K[E]&&(B=!0),q.push({name:$[E],type:m[E],use_default:B,default_value:K[E]}))}else for(E=0;E<m.length;E++)q.push({name:$[E],type:m[E],use_default:!1,default_value:"<No default value>"}),K[E]="<No default value>";if(0!=x.length)for(E=0;E<x.length;E++)j=x[E].arg_id,M=[],-1!=m[j].indexOf("[]")?(A=x[E].value.split(","),n.each(A,(function(e){M.push({value:e})}))):M=x[E].value,R.push({name:$[j],type:m[j],is_null:!!x[E].is_null,expr:!!x[E].is_expression,value:M,use_default:!!x[E].use_default,default_value:K[j]})}0==x.length?this.debuggerInputArgsColl=new b(q):this.debuggerInputArgsColl=new b(R),this.grid&&(this.grid.remove(),this.grid=null);var z=this.grid=new l.Grid({columns:V,collection:this.debuggerInputArgsColl,className:"backgrid table table-bordered table-noouter-border table-bottom-border"});z.render();var H=document.createElement("div");H.classList.add("debugger-args"),H.appendChild(z.el),r(this.elements.content).html(H);var W=r(z.el).find("input:checkbox").first();W.length&&setTimeout((function(){W.trigger("focus")}),250)},settings:{debug_info:void 0,restart_debug:void 0,trans_id:void 0},setup:function(){return{buttons:[{text:e("Clear All"),className:"btn btn-secondary pull-left fa fa-eraser pg-alertify-button"},{text:e("Cancel"),key:27,className:"btn btn-secondary fa fa-times pg-alertify-button"},{text:e("Debug"),key:13,className:"btn btn-primary fa fa-bug pg-alertify-button"}],options:{padding:!1,overflow:!1,model:0,resizable:!0,maximizable:!0,pinnable:!1,closableByDimmer:!1,modal:!1}}},callback:function(n){if(n.button.text===e("Debug")){var a=this;if(0==a.setting("restart_debug")){var o=s.tree,l=o.selected(),p=l&&1==l.length?o.itemData(l):void 0,g=p&&s.Nodes[p._type];if(!p)return;var _=g.getTreeNodeHierarchy.apply(g,[l])}var b,h=[],v=this.sqlite_func_args_list=[],m=0;if(this.grid.collection.each((function(e){var t;(e.get("is_null")?h.push({name:e.get("name"),type:e.get("type"),value:"NULL"}):e.get("use_default")?h.push({name:e.get("name"),type:e.get("type"),value:e.get("default_value")}):h.push({name:e.get("name"),type:e.get("type"),value:e.get("value")}),0==a.setting("restart_debug"))?("function"==p._type?t=_.function._id:"procedure"==p._type?t=_.procedure._id:"edbfunc"==p._type?t=_.edbfunc._id:"edbproc"==p._type&&(t=_.edbproc._id),v.push({server_id:_.server._id,database_id:_.database._id,schema_id:_.schema._id,function_id:t,arg_id:a.input_arg_id[m],is_null:e.get("is_null")?1:0,is_expression:e.get("expr")?1:0,use_default:e.get("use_default")?1:0,value:e.get("value")})):v.push({server_id:a.setting("debug_info").server_id,database_id:a.setting("debug_info").database_id,schema_id:a.setting("debug_info").schema_id,function_id:a.setting("debug_info").function_id,arg_id:a.input_arg_id[m],is_null:e.get("is_null")?1:0,is_expression:e.get("expr")?1:0,use_default:e.get("use_default")?1:0,value:e.get("value")});m+=1})),0==a.setting("restart_debug"))p&&"function"==p._type?b=t("debugger.initialize_target_for_function",{debug_type:"direct",trans_id:a.setting("trans_id"),sid:_.server._id,did:_.database._id,scid:_.schema._id,func_id:_.function._id}):p&&"procedure"==p._type?b=t("debugger.initialize_target_for_function",{debug_type:"direct",trans_id:a.setting("trans_id"),sid:_.server._id,did:_.database._id,scid:_.schema._id,func_id:_.procedure._id}):p&&"edbfunc"==p._type?b=t("debugger.initialize_target_for_function",{debug_type:"direct",trans_id:a.setting("trans_id"),sid:_.server._id,did:_.database._id,scid:_.schema._id,func_id:_.edbfunc._id}):p&&"edbproc"==p._type&&(b=t("debugger.initialize_target_for_function",{debug_type:"direct",trans_id:a.setting("trans_id"),sid:_.server._id,did:_.database._id,scid:_.schema._id,func_id:_.edbproc._id})),r.ajax({url:b,method:"POST",data:{data:JSON.stringify(h)}}).done((function(n){var o,l=t("debugger.direct",{trans_id:n.data.debuggerTransId}),g=u.default.pgAdmin.Browser.get_preferences_for_module("browser").new_browser_tab_open;if(g&&g.includes("debugger"))window.open(l,"_blank"),setTimeout((function(){s.send_signal_to_runtime("Runtime new window opened")}),500);else{s.Events.once("pgadmin-browser:frame:urlloaded:frm_debugger",(function(e){e.openURL(l)}));var b=s.docker.findPanels("properties"),h=s.docker.addPanel("frm_debugger",f.DOCK.STACKED,b[0]),m=s.get_preferences_for_module("browser"),y=_.function?_.function.label:_.trigger_function?_.trigger_function.label:_.trigger?_.trigger.label:_.procedure.label;d.setDebuggerTitle(h,m,y,_.schema.label,_.database.label,null,s),h.focus(),h.on(f.EVENT.CLOSED,(function(){var e=t("debugger.close",{trans_id:n.data.debuggerTransId});r.ajax({url:e,method:"DELETE"})})),c.registerDetachEvent(h),h.on(f.EVENT.RENAME,(function(t){i.prompt("",t.$titleText[0].textContent,(function(e,t){if(t){t=t.trim();var r=_.function?_.function.label:_.trigger_function?_.trigger_function.label:_.trigger?_.trigger.label:_.procedure.label;d.setDebuggerTitle(h,a.preferences,r,_.schema.label,_.database.label,t,s)}}),(function(e){e.cancel=!1})).set({title:e("Rename Panel")})}))}"function"==p._type?o=t("debugger.set_arguments",{sid:_.server._id,did:_.database._id,scid:_.schema._id,func_id:_.function._id}):"procedure"==p._type?o=t("debugger.set_arguments",{sid:_.server._id,did:_.database._id,scid:_.schema._id,func_id:_.procedure._id}):"edbfunc"==p._type?o=t("debugger.set_arguments",{sid:_.server._id,did:_.database._id,scid:_.schema._id,func_id:_.edbfunc._id}):"edbproc"==p._type&&(o=t("debugger.set_arguments",{sid:_.server._id,did:_.database._id,scid:_.schema._id,func_id:_.edbproc._id})),r.ajax({url:o,method:"POST",data:{data:JSON.stringify(v)}}).done((function(){})).fail((function(){i.alert(e("Debugger Error"),e("Unable to set the arguments on the server"))}))})).fail((function(t){i.alert(e("Debugger Target Initialization Error"),t.responseJSON.errormsg)}));else{b=t("debugger.start_listener",{trans_id:a.setting("debug_info").trans_id}),r.ajax({url:b,method:"POST",data:{data:JSON.stringify(h)}}).done((function(){})).fail((function(t){i.alert(e("Debugger Listener Startup Error"),t.responseJSON.errormsg)}));var y=t("debugger.set_arguments",{sid:a.setting("debug_info").server_id,did:a.setting("debug_info").database_id,scid:a.setting("debug_info").schema_id,func_id:a.setting("debug_info").function_id});r.ajax({url:y,method:"POST",data:{data:JSON.stringify(v)}}).done((function(){})).fail((function(){i.alert(e("Debugger Error"),e("Unable to set the arguments on the server"))}))}return!0}if(n.button.text===e("Cancel"))return r.ajax({method:"DELETE",url:t("debugger.close",{trans_id:this.setting("trans_id")})}),!1;if(n.button.text===e("Clear All")){var w=this,k=null;if(0==w.setting("restart_debug")){var D=s.tree.selected(),x=s.tree.itemData(D);if(!x)return;var S=s.Nodes[x._type],E=S.getTreeNodeHierarchy.call(S,D);k=t("debugger.clear_arguments",{sid:E.server._id,did:E.database._id,scid:E.schema._id,func_id:x._id})}else k=t("debugger.clear_arguments",{sid:w.setting("debug_info").server_id,did:w.setting("debug_info").database_id,scid:w.setting("debug_info").schema_id,func_id:w.setting("debug_info").function_id});return r.ajax({url:k,method:"POST",data:{data:JSON.stringify(h)}}).done((function(){w.__internal.buttons[2].element.disabled=!0,w.main(w.setting("title"),w.setting("debug_info"),w.setting("restart_debug"),w.setting("is_edb_proc"),w.setting("trans_id")),w.prepare()})).fail((function(t){i.alert(e("Clear failed"),t.responseJSON.errormsg)})),n.cancel=!0,!0}},build:function(){i.pgDialogBuild.apply(this)},prepare:function(){var e;r(this.elements.body.childNodes[0]).addClass("alertify_tools_dialog_properties obj_properties"),0==this.func_args_data.length?this.__internal.buttons[2].element.disabled=!0:this.__internal.buttons[2].element.disabled=!1,this.grid.listenTo(this.debuggerInputArgsColl,"backgrid:edited",(e=this,function(){for(var t=!1,r=0;r<this.collection.length;r++)if(this.collection.models[r].get("is_null"))e.__internal.buttons[2].element.disabled=!1,t=!0;else if(null==this.collection.models[r].get("value")||null==this.collection.models[r].get("value")){if(t=!0,!this.collection.models[r].get("use_default")){e.__internal.buttons[2].element.disabled=!0;break}e.__internal.buttons[2].element.disabled=!1}t||(e.__internal.buttons[2].element.disabled=!1)})),this.grid.listenTo(this.debuggerInputArgsColl,"backgrid:error",function(e){return function(){e.__internal.buttons[2].element.disabled=!0}}(this))}}})),i.debuggerInputArgsDialog(e("Debugger"),a,o,_,m).resizeTo(s.stdW.md,s.stdH.md)}}.apply(t,n))||(e.exports=a)},6715:(e,t,r)=>{r(74916),r(23123),r(92222),r(40561);var n=r(9807),a=r(7167);function i(e){var t=e.split("(");t.splice(-1,1);var r=null,n="";for(r=0;r<t.length;r++)n=n.concat(t[r]),r!=t.length-1&&(n=n.concat("("));return n}e.exports={setFocusToDebuggerEditor:function(e,t){t&&9!==(t.which||t.keyCode)&&e.focus()},getFunctionId:function(e){var t;return e&&(e.function&&e.function._id?t=e.function._id:e.edbfunc&&e.edbfunc._id&&(t=e.edbfunc._id)),t},getProcedureId:function(e){var t;return e&&(e.procedure&&e.procedure._id?t=e.procedure._id:e.edbproc&&e.edbproc._id&&(t=e.edbproc._id)),t},setDebuggerTitle:function(e,t,r,o,s){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,d="";d=l||t.debugger_tab_title_placeholder;var c=r.split("(");r=i(r);var f=c[c.length-1].split(")"),p="";f.length>0&&(p=p.concat(f[0]));var g={function_name:r,args:p,schema:o,database:s,type:"debugger"},_=(0,n.generateTitle)(d,g);(0,a._set_dynamic_tab)(u,t.dynamic_tabs),e.title("<span>"+_+"</span>")}}},22074:(e,t,r)=>{var n,a;r(32564),r(69826),r(74916),r(15306),r(69600),r(68309),r(24812),r(26699),r(32023),n=[r(91669),r(28008),r(19755),r(81311),r(55455),r(55112),r(58894),r(72316),r(71158),r(12030),r(20811),r(92323),r(72945),r(6715),r(1950),r(35816)],void 0===(a=function(e,t,r,n,a,i,o,s,l,u,d,c,f,p,g){var _=d.default,b=window.wcDocker;null!=i.Browser.tree&&(i=i||window.pgAdmin||{});var h=i.Tools=i.Tools||{};if(h.DirectDebug)return h.DirectDebug;var v=new function(){};n.extend(v,s.Events,{enable:function(e,t){this.trigger("pgDebugger:button:state:"+e,t)},enable_toolbar_buttons:function(){var e=this;e.enable("stop",!0),e.enable("step_over",!0),e.enable("step_into",!0),e.enable("toggle_breakpoint",!0),e.enable("clear_all_breakpoints",!0),e.enable("continue",!0)},disable_toolbar_buttons:function(){var e=this;e.enable("stop",!1),e.enable("step_over",!1),e.enable("step_into",!1),e.enable("toggle_breakpoint",!1),e.enable("clear_all_breakpoints",!1),e.enable("continue",!1)},set_breakpoint:function(n,i,o){var s=t("debugger.set_breakpoint",{trans_id:n,line_no:i,set_type:o});r.ajax({url:s,method:"GET"}).done((function(e){e.data.status})).fail((function(){a.alert(e("Debugger Error"),e("Error while setting debugging breakpoint."))}))},UpdateBreakpoint:function(e){var t=this.GetBreakpointInformation(e);if(1!=t.length||-1!=t[0].linenumber){for(var r,n=new Array,a=0;a<t.length;a++)-1!=t[a].linenumber&&n.push(t[a].linenumber);for(a=0;a<n.length;a++){null!=h.DirectDebug.editor.lineInfo(n[a]-1).gutterMarkers?h.DirectDebug.editor.setGutterMarker(n[a]-1,"breakpoints",null):h.DirectDebug.editor.setGutterMarker(n[a]-1,"breakpoints",(r=void 0,(r=document.createElement("div")).style.color="#822",r.innerHTML="●",r))}}},GetBreakpointInformation:function(n){var i="",o=t("debugger.execute_query",{trans_id:n,query_type:"get_breakpoints"});return r.ajax({url:o,method:"GET",async:!1}).done((function(t){"Success"===t.data.status?i=t.data.result:"NotConnected"===t.data.status&&a.alert(e("Debugger Error"),e("Error while fetching breakpoint information."))})).fail((function(){a.alert(e("Debugger Error"),e("Error while fetching breakpoint information."))})),i},setActiveLine:function(e){var t=this,r=h.DirectDebug.editor;e&&t.active_line_no&&r.removeLineClass(t.active_line_no,"wrap","CodeMirror-activeline-background"),!e&&t.active_line_no&&(e=t.active_line_no),e>0&&(t.active_line_no=e,r.addLineClass(t.active_line_no,"wrap","CodeMirror-activeline-background"),r.centerOnLine(t.active_line_no))},start_execution:function(n,i){var o=this,s=t("debugger.start_execution",{trans_id:n,port_num:i});r.ajax({url:s,method:"GET"}).done((function(t){"Success"===t.data.status?o.execute_query(n):"NotConnected"===t.data.status&&a.alert(e("Debugger Error"),e("Error while starting debugging session."))})).fail((function(){a.alert(e("Debugger Error"),e("Error while starting debugging session."))}))},execute_query:function(n){var i=this,o=t("debugger.execute_query",{trans_id:n,query_type:"wait_for_breakpoint"});r.ajax({url:o,method:"GET"}).done((function(t){"Success"===t.data.status?(null!=t.data.result[0].src&&null!=t.data.result[0].linenumber&&(h.DirectDebug.editor.setValue(t.data.result[0].src),i.setActiveLine(t.data.result[0].linenumber-2)),i.GetStackInformation(n),h.DirectDebug.debug_type&&i.poll_end_execution_result(n)):"NotConnected"===t.data.status&&a.alert(e("Debugger Error"),e("Error while executing requested debugging information."))})).fail((function(){a.alert(e("Debugger Error"),e("Error while executing requested debugging information."))}))},GetLocalVariables:function(n){var i=this,o=t("debugger.execute_query",{trans_id:n,query_type:"get_variables"});r.ajax({url:o,method:"GET"}).done((function(t){"Success"===t.data.status?(i.AddLocalVariables(t.data.result),i.AddParameters(t.data.result),h.DirectDebug.debug_restarted&&(h.DirectDebug.debug_type&&i.poll_end_execution_result(n),h.DirectDebug.debug_restarted=!1)):"NotConnected"===t.data.status&&a.alert(e("Debugger Error"),e("Error while fetching variable information."))})).fail((function(){a.alert(e("Debugger Error"),e("Error while fetching variable information."))}))},GetStackInformation:function(n){var i=this,o=t("debugger.execute_query",{trans_id:n,query_type:"get_stack_info"});r.ajax({url:o,method:"GET"}).done((function(t){"Success"===t.data.status?(i.AddStackInformation(t.data.result),i.GetLocalVariables(h.DirectDebug.trans_id)):"NotConnected"===t.data.status&&a.alert(e("Debugger Error"),e("Error while fetching stack information."))})).fail((function(){a.alert(e("Debugger Error"),e("Error while fetching stack information."))}))},poll_result:function(n){var o=this;if(h.DirectDebug.is_polling_required){var s,l=t("debugger.poll_result",{trans_id:n});s=h.DirectDebug.polling_timeout_idle?1e3:200,setTimeout((function(){r.ajax({url:l,method:"GET",beforeSend:function(e){e.setRequestHeader(i.csrf_token_header,i.csrf_token),r(".debugger-container").addClass("show_progress")}}).done((function(t){r(".debugger-container").removeClass("show_progress"),"Success"===t.data.status?null==t.data.result||0==t.data.result.length?o.poll_result(n):(h.DirectDebug.debug_type||h.DirectDebug.first_time_indirect_debug?(h.DirectDebug.polling_timeout_idle=!1,h.DirectDebug.docker.finishLoading(50),t.data.result[0].src!=h.DirectDebug.editor.getValue()&&(h.DirectDebug.editor.setValue(t.data.result[0].src),o.UpdateBreakpoint(n)),o.setActiveLine(t.data.result[0].linenumber-2),o.GetStackInformation(n)):(h.DirectDebug.docker.finishLoading(50),o.setActiveLine(-1),o.clear_all_breakpoint(n),o.execute_query(n),h.DirectDebug.first_time_indirect_debug=!0,h.DirectDebug.polling_timeout_idle=!1),setTimeout((function(){o.enable_toolbar_buttons()}),500)):"Busy"===t.data.status?(h.DirectDebug.polling_timeout_idle=!0,h.DirectDebug.debug_type||(h.DirectDebug.docker.startLoading(e("Waiting for another session to invoke the target...")),o.disable_toolbar_buttons(),h.DirectDebug.first_time_indirect_debug=!1),o.poll_result(n)):"NotConnected"===t.data.status&&a.alert(e("Debugger Error"),e("Error while polling result."))})).fail((function(){a.alert(e("Debugger Error"),e("Error while polling result."))}))}),s)}},update_messages:function(e){e=n.escape(e);var t,r="";r=(t=h.DirectDebug.messages_panel.$container.find(".messages").html())?(t+"\n"+e).replace(/(?:\r\n|\r|\n)/g,"<br />").replace(/(<br\ ?\/?>)+/g,"<br />"):e,h.DirectDebug.messages_panel.$container.find(".messages").html(r)},poll_end_execution_result:function(n){var i=this;if(h.DirectDebug.is_polling_required){var o,s=t("debugger.poll_end_execution_result",{trans_id:n});o=h.DirectDebug.polling_timeout_idle?1200:250,setTimeout((function(){r.ajax({url:s,method:"GET"}).done((function(t){"Success"===t.data.status?null==t.data.result?(i.setActiveLine(-1),h.DirectDebug.direct_execution_completed=!0,h.DirectDebug.polling_timeout_idle=!0,a.success(t.info,3),t.data.status_message&&i.update_messages(t.data.status_message),r(".debugger-container").removeClass("show_progress"),setTimeout((function(){i.enable("stop",!1),i.enable("step_over",!1),i.enable("step_into",!1),i.enable("toggle_breakpoint",!1),i.enable("clear_all_breakpoints",!1),i.enable("continue",!0)}),500),h.DirectDebug.is_polling_required=!1):null!=t.data.result&&(i.setActiveLine(-1),i.AddResults(t.data.col_info,t.data.result),h.DirectDebug.results_panel.focus(),h.DirectDebug.direct_execution_completed=!0,h.DirectDebug.polling_timeout_idle=!0,a.success(t.info,3),t.data.status_message&&i.update_messages(t.data.status_message),r(".debugger-container").removeClass("show_progress"),setTimeout((function(){i.enable("stop",!1),i.enable("step_over",!1),i.enable("step_into",!1),i.enable("toggle_breakpoint",!1),i.enable("clear_all_breakpoints",!1),i.enable("continue",!0)}),500),h.DirectDebug.is_polling_required=!1):"Busy"===t.data.status?(i.poll_end_execution_result(n),t.data.status_message&&i.update_messages(t.data.status_message)):"NotConnected"===t.data.status?a.alert(e("Debugger poll end execution error"),t.data.result):"ERROR"===t.data.status&&(h.DirectDebug.direct_execution_completed=!0,i.setActiveLine(-1),h.DirectDebug.is_user_aborted_debugging||a.error(t.info,3),t.data.status_message&&i.update_messages(t.data.status_message),h.DirectDebug.messages_panel.focus(),r(".debugger-container").removeClass("show_progress"),i.enable("stop",!1),i.enable("step_over",!1),i.enable("step_into",!1),i.enable("toggle_breakpoint",!1),i.enable("clear_all_breakpoints",!1),h.DirectDebug.is_user_aborted_debugging||(i.enable("continue",!0),h.DirectDebug.is_user_aborted_debugging=!1),h.DirectDebug.is_polling_required=!1)})).fail((function(){a.alert(e("Debugger Error"),e("Error while polling result."))}))}),o)}},Restart:function(n){var i=this,o=t("debugger.restart",{trans_id:n});i.disable_toolbar_buttons(),h.DirectDebug.messages_panel.$container.find(".messages").html(""),r.ajax({url:o}).done((function(o){var s=o.data.restart_debug?1:0;if(h.DirectDebug.polling_timeout_idle=!1,h.DirectDebug.is_polling_required=!0,i.poll_result(n),s&&(h.DirectDebug.debug_restarted=!0),o.data.result.require_input)c(o.data.result,s);else{var l=t("debugger.start_listener",{trans_id:n});r.ajax({url:l,method:"GET"}).done((function(){h.DirectDebug.debug_type&&i.poll_end_execution_result(n)})).fail((function(){a.alert(e("Debugger Error"),e("Error while polling result."))}))}})).fail((function(t){try{var r=JSON.parse(t.responseText);0==r.success&&a.alert(e("Debugger Error"),r.errormsg)}catch(e){console.warn(e.stack||e)}}))},Continue:function(n){var i=this;if(i.disable_toolbar_buttons(),h.DirectDebug.direct_execution_completed&&h.DirectDebug.direct_execution_completed==h.DirectDebug.polling_timeout_idle)i.Restart(n);else{var o=t("debugger.execute_query",{trans_id:n,query_type:"continue"});r.ajax({url:o,method:"GET"}).done((function(t){t.data.status?i.poll_result(n):a.alert(e("Debugger Error"),e("Error while executing continue in debugging session."))})).fail((function(){a.alert(e("Debugger Error"),e("Error while executing continue in debugging session."))}))}},Step_over:function(n){var i=this;i.disable_toolbar_buttons();var o=t("debugger.execute_query",{trans_id:n,query_type:"step_over"});r.ajax({url:o,method:"GET"}).done((function(t){t.data.status?i.poll_result(n):a.alert(e("Debugger Error"),e("Error while executing step over in debugging session."))})).fail((function(){a.alert(e("Debugger Error"),e("Error while executing step over in debugging session."))}))},Step_into:function(n){var i=this;i.disable_toolbar_buttons();var o=t("debugger.execute_query",{trans_id:n,query_type:"step_into"});r.ajax({url:o,method:"GET"}).done((function(t){t.data.status?i.poll_result(n):a.alert(e("Debugger Error"),e("Error while executing step into in debugging session."))})).fail((function(){a.alert(e("Debugger Error"),e("Error while executing step into in debugging session."))}))},Stop:function(n){var i=this;i.disable_toolbar_buttons();var o=t("debugger.execute_query",{trans_id:n,query_type:"abort_target"});r.ajax({url:o,method:"GET"}).done((function(t){t.data.status?(i.setActiveLine(-1),h.DirectDebug.direct_execution_completed=!0,h.DirectDebug.is_user_aborted_debugging=!0,h.DirectDebug.is_polling_required=!1,i.enable("continue",!1),a.success(t.info,3)):"NotConnected"===t.data.status&&a.alert(e("Debugger Error"),e("Error while executing stop in debugging session."))})).fail((function(){a.alert(e("Debugger Error"),e("Error while executing stop in debugging session."))}))},toggle_breakpoint:function(n){var i=this;i.disable_toolbar_buttons();var o="";o=null==h.DirectDebug.editor.lineInfo(i.active_line_no).gutterMarkers?t("debugger.set_breakpoint",{trans_id:n,line_no:i.active_line_no+1,set_type:"1"}):t("debugger.set_breakpoint",{trans_id:n,line_no:i.active_line_no+1,set_type:"0"}),r.ajax({url:o,method:"GET"}).done((function(t){var r;t.data.status?(null!=h.DirectDebug.editor.lineInfo(i.active_line_no).gutterMarkers?h.DirectDebug.editor.setGutterMarker(i.active_line_no,"breakpoints",null):h.DirectDebug.editor.setGutterMarker(i.active_line_no,"breakpoints",((r=document.createElement("div")).style.color="#822",r.innerHTML="●",r)),i.enable_toolbar_buttons()):"NotConnected"===t.data.status&&a.alert(e("Debugger Error"),e("Error while toggling breakpoint."))})).fail((function(){a.alert(e("Debugger Error"),e("Error while toggling breakpoint."))}))},clear_all_breakpoint:function(n){var i=this,o=i.GetBreakpointInformation(n);if(1!=o.length||-1!=o[0].linenumber){i.disable_toolbar_buttons();for(var s=new Array,l=0;l<o.length;l++)-1!=o[l].linenumber&&s.push(o[l].linenumber);var u=t("debugger.clear_all_breakpoint",{trans_id:n});r.ajax({url:u,method:"POST",data:{breakpoint_list:s.join()}}).done((function(e){if(e.data.status)for(var t=0;t<s.length;t++){var r=h.DirectDebug.editor.lineInfo(s[t]-1);r&&null!=r.gutterMarkers&&h.DirectDebug.editor.setGutterMarker(s[t]-1,"breakpoints",null)}i.enable_toolbar_buttons()})).fail((function(){a.alert(e("Debugger Error"),e("Error while clearing all breakpoint."))}))}},AddStackInformation:function(t){var r=this;r.stack_grid&&(r.stack_grid.remove(),r.stack_grid=null);for(var n=s.Model.extend({defaults:{frame_id:0,name:void 0,value:void 0,line_no:void 0}}),a=s.Collection.extend({model:n}),i=[{name:"name",label:e("Name"),type:"text",editable:!1,cell:"string"},{name:"value",label:e("Value"),type:"text",editable:!1,cell:"string"},{name:"line_no",label:e("Line No."),type:"text",editable:!1,cell:"string"}],o=[],u=0;u<t.length;u++)o.push({frame_id:u,name:t[u].targetname,value:t[u].args,line_no:t[u].linenumber});var d=this.stackColl=new a(o);this.stackColl.on("backgrid:row:selected",r.select_frame,r);var c=this.stack_grid=new l.Grid({emptyText:e("No data found"),columns:i,row:l.Row.extend({events:{click:"rowClick"},rowClick:function(){r.frame_id=this.model.get("frame_id"),this.model.trigger("backgrid:row:selected",this),r.stack_grid.$el.find("td").css("background-color",this.disabledColor),this.$el.find("td").css("background-color",this.highlightColor)}}),collection:d,className:"backgrid table table-bordered table-noouter-border table-bottom-border"});c.render(),h.DirectDebug.stack_pane_panel.$container.find(".stack_pane").append(c.el)},AddResults:function(t,r){var a=this;a.result_grid&&(a.result_grid.remove(),a.result_grid=null);var i=s.Model.extend({defaults:{name:void 0}}),o=s.Collection.extend({model:i}),u=[];n.size(t)&&n.each(t,(function(e){var t={type:"text",editable:!1,cell:"string"};t.name=t.label=e.name,u.push(t)}));var d=this.result_grid=new l.Grid({emptyText:e("No data found"),columns:u,collection:new o(r),className:"backgrid table table-bordered table-noouter-border table-bottom-border"});d.render(),h.DirectDebug.results_panel.$container.find(".debug_results").append(d.el)},AddLocalVariables:function(t){var r=this;r.variable_grid&&(r.variable_grid.remove(),r.variable_grid=null);var n=s.Model.extend({defaults:{name:void 0,type:void 0,value:void 0}}),a=s.Collection.extend({model:n});a.prototype.on("change",r.deposit_parameter_value,r);var i=[{name:"name",label:e("Name"),type:"text",editable:!1,cell:"string"},{name:"type",label:e("Type"),type:"text",editable:!1,cell:"string"},{name:"value",label:e("Value"),type:"text",cell:"string"}],o=[];if(0!=t.length)for(var u=0;u<t.length;u++)"L"==t[u].varclass&&o.push({name:t[u].name,type:t[u].dtype,value:t[u].value});var d=this.variable_grid=new l.Grid({emptyText:e("No data found"),columns:i,collection:new a(o),className:"backgrid table table-bordered table-noouter-border table-bottom-border"});d.collection.on("backgrid:edited",(function(e,t,r){p.setFocusToDebuggerEditor(h.DirectDebug.editor,r)})),d.render(),h.DirectDebug.local_variables_panel.$container.find(".local_variables").append(d.el)},AddParameters:function(t){var r=this;r.param_grid&&(r.param_grid.remove(),r.param_grid=null);var n=s.Model.extend({defaults:{name:void 0,type:void 0,value:void 0}}),a=r.ParametersCollection=s.Collection.extend({model:n});a.prototype.on("change",r.deposit_parameter_value,r);var i=[{name:"name",label:e("Name"),type:"text",editable:!1,cell:"string"},{name:"type",label:e("Type"),type:"text",editable:!1,cell:"string"},{name:"value",label:e("Value"),type:"text",cell:"string"}],o=[];if(0!=t.length)for(var u=0;u<t.length;u++)"A"==t[u].varclass&&o.push({name:t[u].name,type:t[u].dtype,value:t[u].value});var d=this.param_grid=new l.Grid({emptyText:e("No data found"),columns:i,collection:new a(o),className:"backgrid table table-bordered table-noouter-border table-bottom-border"});d.collection.on("backgrid:edited",(function(e,t,r){p.setFocusToDebuggerEditor(h.DirectDebug.editor,r)})),d.render(),h.DirectDebug.parameters_panel.$container.find(".parameters").append(d.el)},deposit_parameter_value:function(n){var i=this,o=[];o.push({name:n.get("name"),type:n.get("type"),value:n.get("value")});var s=t("debugger.deposit_value",{trans_id:h.DirectDebug.trans_id});r.ajax({url:s,method:"POST",data:{data:JSON.stringify(o)}}).done((function(e){e.data.status&&(i.GetLocalVariables(h.DirectDebug.trans_id),e.data.result?a.success(e.data.info,3):a.error(e.data.info,3))})).fail((function(){a.alert(e("Debugger Error"),e("Error while depositing variable value."))}))},select_frame:function(){var n=this,i=t("debugger.select_frame",{trans_id:h.DirectDebug.trans_id,frame_id:n.frame_id});r.ajax({url:i,method:"GET"}).done((function(e){e.data.status&&(h.DirectDebug.editor.setValue(e.data.result[0].src),n.UpdateBreakpoint(h.DirectDebug.trans_id),n.setActiveLine(e.data.result[0].linenumber-2),n.GetLocalVariables(h.DirectDebug.trans_id))})).fail((function(){a.alert(e("Debugger Error"),e("Error while selecting frame."))}))}});var m=s.View.extend({el:".debugger_main_container",initialize:function(){v.on("pgDebugger:button:state:stop",this.enable_stop,this),v.on("pgDebugger:button:state:step_over",this.enable_step_over,this),v.on("pgDebugger:button:state:step_into",this.enable_step_into,this),v.on("pgDebugger:button:state:continue",this.enable_continue,this),v.on("pgDebugger:button:state:toggle_breakpoint",this.enable_toggle_breakpoint,this),v.on("pgDebugger:button:state:clear_all_breakpoints",this.enable_clear_all_breakpoints,this)},events:{"click .btn-stop":"on_stop","click .btn-clear-breakpoint":"on_clear_all_breakpoint","click .btn-toggle-breakpoint":"on_toggle_breakpoint","click .btn-continue":"on_continue","click .btn-step-over":"on_step_over","click .btn-step-into":"on_step_into",keydown:"keyAction"},enable_stop:function(e){var t=this.$el.find(".btn-stop");e?(t.prop("disabled",!1),t.removeAttr("disabled")):(t.prop("disabled",!0),t.attr("disabled","disabled"))},enable_step_over:function(e){var t=this.$el.find(".btn-step-over");e?(t.prop("disabled",!1),t.removeAttr("disabled")):(t.prop("disabled",!0),t.attr("disabled","disabled"))},enable_step_into:function(e){var t=this.$el.find(".btn-step-into");e?(t.prop("disabled",!1),t.removeAttr("disabled")):(t.prop("disabled",!0),t.attr("disabled","disabled"))},enable_continue:function(e){var t=this.$el.find(".btn-continue");e?(t.prop("disabled",!1),t.removeAttr("disabled")):(t.prop("disabled",!0),t.attr("disabled","disabled"))},enable_toggle_breakpoint:function(e){var t=this.$el.find(".btn-toggle-breakpoint");e?(t.prop("disabled",!1),t.removeAttr("disabled")):(t.prop("disabled",!0),t.attr("disabled","disabled"))},enable_clear_all_breakpoints:function(e){var t=this.$el.find(".btn-clear-breakpoint");e?(t.prop("disabled",!1),t.removeAttr("disabled")):(t.prop("disabled",!0),t.attr("disabled","disabled"))},on_stop:function(){v.Stop(h.DirectDebug.trans_id)},on_clear_all_breakpoint:function(){v.clear_all_breakpoint(h.DirectDebug.trans_id)},on_toggle_breakpoint:function(){v.toggle_breakpoint(h.DirectDebug.trans_id)},on_continue:function(){v.Continue(h.DirectDebug.trans_id)},on_step_over:function(){v.Step_over(h.DirectDebug.trans_id)},on_step_into:function(){v.Step_into(h.DirectDebug.trans_id)},keyAction:function(e){var t;t=f.processEventDebugger(this.$el,e,this.preferences,h.DirectDebug.docker),n.isNull(t)||n.isUndefined(t)||""==t||setTimeout((function(){o.Events.trigger("pgadmin:debugger:".concat(t,":focus"))}),100)}}),y=function(){};return n.extend(y.prototype,{load:function(i,o,s,l){var u=this;if(n.bindAll(h.DirectDebug,"messages"),!this.initialized){var d;this.initialized=!0,this.trans_id=i,this.debug_type=o,this.first_time_indirect_debug=!1,this.direct_execution_completed=!1,this.polling_timeout_idle=!1,this.debug_restarted=!1,this.is_user_aborted_debugging=!1,this.is_polling_required=!0,this.function_name_with_arguments=s,this.layout=l;var c=g.default.pgAdmin.Browser;this.preferences=c.get_preferences_for_module("debugger"),this.docker=new b("#container",{allowContextMenu:!1,allowCollapse:!1,loadingClass:"pg-sp-icon",themePath:t("static",{filename:"css"}),theme:"webcabin.overrides.css"}),this.panels=[],null==i||o?null!=i?(d=t("debugger.start_listener",{trans_id:i}),r.ajax({url:d,method:"GET"}).done((function(e){e.data.status&&u.messages(i)})).fail((function(t){try{var r=JSON.parse(t.responseText);0==r.success&&a.alert(e("Debugger Error"),r.errormsg)}catch(t){a.alert(e("Debugger Error"),e("Error while starting debugging listener."))}}))):this.intializePanels():(d=t("debugger.start_listener",{trans_id:i}),r.ajax({url:d,method:"GET"}).done((function(e){e.data.status&&(u.intializePanels(),v.enable_toolbar_buttons(),v.poll_result(i))})).fail((function(t){try{var r=JSON.parse(t.responseText);0==r.success&&a.alert(e("Debugger Error"),r.errormsg)}catch(t){a.alert(e("Debugger Error"),e("Error while starting debugging listener."))}})))}},messages:function(n){var i=this,o=t("debugger.messages",{trans_id:n});r.ajax({url:o,method:"GET"}).done((function(t){"Success"===t.data.status?(i.intializePanels(),v.enable_toolbar_buttons(),v.start_execution(n,t.data.result)):"Busy"===t.data.status?i.messages(n):"NotConnected"===t.data.status&&a.alert(e("Not connected to server or connection with the server has been closed."),t.data.result)})).fail((function(){a.alert(e("Debugger Error"),e("Error while fetching messages information."))}))},onBreakPoint:function(e,t,r){var n,a=this;if("breakpoints"==r&&!h.DirectDebug.polling_timeout_idle){var i=e.lineInfo(t);null==i.gutterMarkers||null==i.gutterMarkers.breakpoints?v.set_breakpoint(a.trans_id,t+1,1):v.set_breakpoint(a.trans_id,t+1,0);var o=i.gutterMarkers;null!=o&&null==i.gutterMarkers.breakpoints&&(o=i.gutterMarkers.breakpoints),e.setGutterMarker(t,"breakpoints",o?null:((n=document.createElement("div")).style.color="#822",n.innerHTML="●",n))}},buildDefaultLayout:function(e){var t=e.addPanel("code",b.DOCK.TOP),r=e.addPanel("parameters",b.DOCK.BOTTOM,t);e.addPanel("local_variables",b.DOCK.STACKED,r,{tabOrientation:b.TAB.TOP}),e.addPanel("messages",b.DOCK.STACKED,r),e.addPanel("results",b.DOCK.STACKED,r),e.addPanel("stack_pane",b.DOCK.STACKED,r)},intializePanels:function(){var t=this;this.registerPanel("code",t.function_name_with_arguments,"100%","50%",(function(){var r=new i.Browser.Panel({name:"parameters",title:e("Parameters"),width:"100%",height:"100%",isCloseable:!1,isPrivate:!0,content:'<div id ="parameters" class="parameters" tabindex="0"></div>'}),n=new i.Browser.Panel({name:"local_variables",title:e("Local variables"),width:"100%",height:"100%",isCloseable:!1,isPrivate:!0,content:'<div id ="local_variables" class="local_variables" tabindex="0"></div>'}),a=new i.Browser.Panel({name:"messages",title:e("Messages"),width:"100%",height:"100%",isCloseable:!1,isPrivate:!0,content:'<div role="status" id="messages" class="messages" tabindex="0"></div>'}),o=new i.Browser.Panel({name:"results",title:e("Results"),width:"100%",height:"100%",isCloseable:!1,isPrivate:!0,content:'<div id="debug_results" class="debug_results" tabindex="0"></div>'}),s=new i.Browser.Panel({name:"stack_pane",title:e("Stack"),width:"100%",height:"100%",isCloseable:!1,isPrivate:!0,content:'<div id="stack_pane" class="stack_pane" tabindex="0"></div>'});r.load(t.docker),n.load(t.docker),a.load(t.docker),o.load(t.docker),s.load(t.docker)})),o.restore_layout(t.docker,t.layout,this.buildDefaultLayout.bind(this)),t.docker.on(b.EVENT.LAYOUT_CHANGED,(function(){o.save_current_layout("Debugger/Layout",t.docker)})),t.code_editor_panel=t.docker.findPanels("code")[0],t.parameters_panel=t.docker.findPanels("parameters")[0],t.local_variables_panel=t.docker.findPanels("local_variables")[0],t.messages_panel=t.docker.findPanels("messages")[0],t.results_panel=t.docker.findPanels("results")[0],t.stack_pane_panel=t.docker.findPanels("stack_pane")[0];var n=r('<div id="stack_editor_pane" class="pg-panel-content info"></div>'),s=r('<textarea aria-label="Code editor area" id="debugger-editor-textarea"></textarea>').appendTo(n);t.code_editor_panel.layout().addItem(n),t.editor=_.fromTextArea(s.get(0),{tabindex:-1,lineNumbers:!0,foldOptions:{widget:"…"},foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","breakpoints"],mode:"text/x-pgsql",readOnly:!0,extraKeys:i.Browser.editor_shortcut_keys,indentWithTabs:i.Browser.editor_options.indent_with_tabs,indentUnit:i.Browser.editor_options.tabSize,tabSize:i.Browser.editor_options.tabSize,lineWrapping:i.Browser.editor_options.wrapCode,autoCloseBrackets:i.Browser.editor_options.insert_pair_brackets,matchBrackets:i.Browser.editor_options.brace_matching,screenReaderLabel:e("Debugger SQL editor")}),_.on(t.editor,"keydown",(function(e,t){27==t.keyCode&&document.activeElement.blur()})),o.Events.on("pgadmin:debugger:code:focus",(function(){t.editor.focus()}));t.docker.startLoading(e("Loading...")),t.docker.on(b.EVENT.LOADED,(function(){t.docker.finishLoading(100),t.docker.off(b.EVENT.LOADED),t.editor.on("gutterClick",t.onBreakPoint.bind(t),t),t.docker.$container&&t.docker.$container.parent().focus();var e=setInterval((function(){try{var r=g.default.pgAdmin.Browser;if(r.preference_version()>0){clearInterval(e),t.reflectPreferences();var n=r.get_preferences_for_module("browser").new_browser_tab_open;if(n&&n.includes("debugger")){o.bind_beforeunload();var a=setInterval((function(){g.default.pgAdmin?t.reflectPreferences():clearInterval(a)}),1e3)}}}catch(t){throw clearInterval(e),t}}),0)})),this.toolbarView=new m,r(window).on("keydown",(function(e){t.toolbarView.keyAction&&t.toolbarView.keyAction(e)})),g.default.pgAdmin.Browser.onPreferencesChange("debugger",(function(){t.reflectPreferences()})),o.register_to_activity_listener(document,(function(){a.alert(e("Timeout"),e("Your session has timed out due to inactivity. Please close the window and login again."))})),v.poll_result=o.override_activity_event_decorator(v.poll_result).bind(v),v.poll_end_execution_result=o.override_activity_event_decorator(v.poll_end_execution_result).bind(v)},reflectPreferences:function(){var t=this,r=g.default.pgAdmin.Browser;t.preferences=r.get_preferences_for_module("debugger"),t.toolbarView.preferences=t.preferences,t.toolbarView.$el.find("#btn-step-into").attr("title",f.shortcut_accesskey_title(e("Step into"),t.preferences.btn_step_into)).attr("aria-label",f.shortcut_accesskey_title(e("Step into"),t.preferences.btn_step_into)).attr("accesskey",f.shortcut_key(t.preferences.btn_step_into)),t.toolbarView.$el.find("#btn-step-over").attr("title",f.shortcut_accesskey_title(e("Step over"),t.preferences.btn_step_over)).attr("aria-label",f.shortcut_accesskey_title(e("Step over"),t.preferences.btn_step_over)).attr("accesskey",f.shortcut_key(t.preferences.btn_step_over)),t.toolbarView.$el.find("#btn-continue").attr("title",f.shortcut_accesskey_title(e("Continue/Start"),t.preferences.btn_start)).attr("aria-label",f.shortcut_accesskey_title(e("Continue/Start"),t.preferences.btn_start)).attr("accesskey",f.shortcut_key(t.preferences.btn_start)),t.toolbarView.$el.find("#btn-toggle-breakpoint").attr("title",f.shortcut_accesskey_title(e("Toggle breakpoint"),t.preferences.btn_toggle_breakpoint)).attr("aria-label",f.shortcut_accesskey_title(e("Toggle breakpoint"),t.preferences.btn_toggle_breakpoint)).attr("accesskey",f.shortcut_key(t.preferences.btn_toggle_breakpoint)),t.toolbarView.$el.find("#btn-clear-breakpoint").attr("title",f.shortcut_accesskey_title(e("Clear all breakpoints"),t.preferences.btn_clear_breakpoints)).attr("aria-label",f.shortcut_accesskey_title(e("Clear all breakpoints"),t.preferences.btn_clear_breakpoints)).attr("accesskey",f.shortcut_key(t.preferences.btn_clear_breakpoints)),t.toolbarView.$el.find("#btn-stop").attr("title",f.shortcut_accesskey_title(e("Stop"),t.preferences.btn_stop)).attr("aria-label",f.shortcut_accesskey_title(e("Stop"),t.preferences.btn_stop)).attr("accesskey",f.shortcut_key(t.preferences.btn_stop))},registerPanel:function(e,t,n,a,i){var o=this;this.docker.registerPanelType(e,{title:t,isPrivate:!0,onCreate:function(s){o.panels[e]=s,s.initSize(n,a),t?s.title(t):s.title(!1),s.closeable(!1),s.layout().addItem(r('<div tabindex="0">',{class:"pg-debugger-panel"})),i&&i.apply(o,[s])}})}}),h.DirectDebug=new y,h.DirectDebug.jquery=r,h.DirectDebug}.apply(t,n))||(e.exports=a)},92026:t=>{t.exports=e},8012:e=>{e.exports=t},1506:e=>{e.exports=r},96481:e=>{e.exports=n},6537:e=>{e.exports=a},52536:e=>{e.exports=i}},l={};function u(e){var t=l[e];if(void 0!==t)return t.exports;var r=l[e]={id:e,loaded:!1,exports:{}};return s[e].call(r.exports,r,r.exports,u),r.loaded=!0,r.exports}u.m=s,o=[],u.O=(e,t,r,n)=>{if(!t){var a=1/0;for(l=0;l<o.length;l++){for(var[t,r,n]=o[l],i=!0,s=0;s<t.length;s++)(!1&n||a>=n)&&Object.keys(u.O).every((e=>u.O[e](t[s])))?t.splice(s--,1):(i=!1,n<a&&(a=n));i&&(o.splice(l--,1),e=r())}return e}n=n||0;for(var l=o.length;l>0&&o[l-1][2]>n;l--)o[l]=o[l-1];o[l]=[t,r,n]},u.d=(e,t)=>{for(var r in t)u.o(t,r)&&!u.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},u.e=()=>Promise.resolve(),u.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),u.j=361,(()=>{var e={361:0,528:0};u.O.j=t=>0===e[t];var t=(t,r)=>{var n,a,[i,o,s]=r,l=0;for(n in o)u.o(o,n)&&(u.m[n]=o[n]);if(s)var d=s(u);for(t&&t(r);l<i.length;l++)a=i[l],u.o(e,a)&&e[a]&&e[a][0](),e[i[l]]=0;return u.O(d)},r=self.webpackChunk=self.webpackChunk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var d=u.O(void 0,[688,160,196],(()=>u(22074)));return d=(d=u.O(d)).default})()));
//# sourceMappingURL=debugger_direct.js.map